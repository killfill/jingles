<div class="tab-pane" id="datasets">
  <div class="row-fluid">
    <div class="span12">
      <div class="tabbable tabs-top">
        <ul class="nav nav-tabs">
          <li class="active"><a href="#installed" data-toggle="tab">Installed</a></li>
          <li><a href="#datasetsat" data-toggle="tab">Remote datasets</a></li>
        </ul>
        <div class="tab-content">
          <div class="tab-pane active" id="installed">
            <div class="pane-nav">
                <input class="input" type="text" ng-model="url" placeholder="image url" style='margin-bottom: 0px;'/>
                <button class='btn btn btn-success' ng-click='import()'>Import</button>
            </div>
            <table class="table table-condensed table-hover">
              <thead>
                <tr>
                  <th></th>
                  <th>Name</th>
                  <th>Description</th>
                  <th style='min-width: 80px'>Ready</th>
                  <th>Type</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="data in datasets | hash2array | orderBy: ['-os', 'name','-version']">
                  <td><img title='{{data.os}}' jq-run='tooltip' class='oslogo' ng-src="images/logos/{{data.os || 'unknown'}}.png" onerror='this.src="images/logos/unknown.png"'></td>

                  <td title='{{data.dataset}}' jq-run='tooltip'><a href='#/datasets/{{data.dataset}}'>{{data.name}} {{data.version && '(' + data.version + ')'}}</a></td>

                  <td class='uuid'>{{data.description}}</td>
                  <td>
                    <i ng-show="data.imported == 1" class="icon-ok" style=""></i>
                    <div ng-hide="data.imported == 1" class="progress progress-striped active">
                        <div class="bar" style="width: {{(data.imported * 100).toFixed(2)}}%;">{{(data.imported * 100).toFixed(0)}}%</div>
                    </div>
                  </td>
                  <td class='light'>{{data.type}}</td>
                </tr>
              </tbody>
            </table>
          </div>
          <div class="tab-pane" id="datasetsat">
            <div class="pane-nav">
                Datasets are hosted and manged by <a href="http://{{endpoint}}">{{endpoint}}</a>
            </div>
            <table class="table table-condensed table-hover">
              <thead>
                <tr>
                  <th></th>
                  <th>Name</th>
                  <th>Description</th>
                  <th>Imported</th>
                  <th>Type</th>
                  <th>Size</th>
                </tr>
              </thead>
              <tbody>
                <tr ng-repeat="data in datasetsat | hash2array | orderBy: ['-os', 'name','-version']">
                  <td><img title='{{data.os}}' jq-run='tooltip' class='oslogo' ng-src="images/logos/{{data.os || 'unknown'}}.png" onerror='this.src="images/logos/unknown.png"'></td>
                  <td title='{{data.uuid}}' jq-run='tooltip'>{{data.name}} {{data.version && '(' + data.version + ')'}}</td>
                  <td>{{data.description}}</td>
                  <td>
                    <i ng-show="data.imported" class="icon-ok"></i>
                    <button class='btn btn-small btn-success'
                            ng-hide="data.imported"
                            ng-click='import(data)'>Import</button>
                  </td>
                  <td class='light nowrap'>{{data.type}}</td>
                  <td>{{data.files[0].size|bytes}}</td>

                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
