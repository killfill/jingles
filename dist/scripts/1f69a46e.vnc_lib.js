"use strict";function Websock(){function a(){return G}function b(){return D}function c(){return E}function d(a){E=a}function e(){return D.length-E}function f(){return D[E]}function g(){return D[E++]}function h(a){0===E?D.unshift(a):(E-=1,D[E]=a)}function i(){return(D[E++]<<8)+D[E++]}function j(){return(D[E++]<<24)+(D[E++]<<16)+(D[E++]<<8)+D[E++]}function k(a){"undefined"==typeof a&&(a=e());var b=D.slice(E,E+a);return E+=a,String.fromCharCode.apply(null,b)}function l(a){return"undefined"==typeof a&&(a=e()),E+=a,D.slice(E-a,E)}function m(a,b){return b?D.slice(E+a,E+b):D.slice(E+a)}function n(a,b,c){var d=D.length-E;if(b>d){if(c){if(c>E)throw"rQwait cannot backup "+c+" bytes";E-=c}return!0}return!1}function o(){return"binary"===C?new Uint8Array(G).buffer:Base64.encode(G)}function p(a){if("binary"===C)for(var b=new Uint8Array(a),c=0;c<b.length;c++)D.push(b[c]);else D=D.concat(Base64.decode(a,0))}function q(){return 0!==B.bufferedAmount&&Util.Debug("bufferedAmount: "+B.bufferedAmount),B.bufferedAmount<A.maxBufferedAmount?(G.length>0&&(B.send(o(G)),G=[]),!0):(Util.Info("Delaying send, bufferedAmount: "+B.bufferedAmount),!1)}function r(a){return G=G.concat(a),q()}function s(a){A.send(a.split("").map(function(a){return a.charCodeAt(0)}))}function t(a){try{p(a.data),e()>0?(H.message(),D.length>F&&(D=D.slice(E),E=0)):Util.Debug("Ignoring empty message")}catch(b){"undefined"!=typeof b.stack?Util.Warn("recv_message, caught exception: "+b.stack):"undefined"!=typeof b.description?Util.Warn("recv_message, caught exception: "+b.description):Util.Warn("recv_message, caught exception:"+b),"undefined"!=typeof b.name?H.error(b.name+": "+b.message):H.error(b)}}function u(a,b){H[a]=b}function v(a){D=[],E=0,G=[],B=null;var b=!1,c=!1;"Uint8Array"in window&&"set"in Uint8Array.prototype&&(b=!0);try{b&&"binaryType"in new WebSocket("ws://localhost:17523")&&(Util.Info("Detected binaryType support in WebSockets"),c=!0)}catch(d){}if("undefined"==typeof a&&(a=c?["binary","base64"]:"base64"),!c){if("binary"===a)throw"WebSocket binary sub-protocol requested but not supported";if("object"==typeof a){for(var e=[],f=0;f<a.length;f++)"binary"===a[f]?Util.Error("Skipping unsupported WebSocket binary sub-protocol"):e.push(a[f]);if(!(e.length>0))throw"Only WebSocket binary sub-protocol was requested and not supported.";a=e}}return a}function w(a,b){b=v(b),I?B={}:(B=new WebSocket(a,b),b.indexOf("binary")>=0&&(B.binaryType="arraybuffer")),B.onmessage=t,B.onopen=function(){Util.Debug(">> WebSock.onopen"),B.protocol?(C=B.protocol,Util.Info("Server chose sub-protocol: "+B.protocol)):(C="base64",Util.Error("Server select no sub-protocol!: "+B.protocol)),H.open(),Util.Debug("<< WebSock.onopen")},B.onclose=function(a){Util.Debug(">> WebSock.onclose"),H.close(a),Util.Debug("<< WebSock.onclose")},B.onerror=function(a){Util.Debug(">> WebSock.onerror: "+a),H.error(a),Util.Debug("<< WebSock.onerror")}}function x(){B&&((B.readyState===WebSocket.OPEN||B.readyState===WebSocket.CONNECTING)&&(Util.Info("Closing WebSocket connection"),B.close()),B.onmessage=function(){})}function y(a,b){return I=!0,C=b,A.send=a,A.close=function(){},t}function z(){return A.maxBufferedAmount=200,A.get_sQ=a,A.get_rQ=b,A.get_rQi=c,A.set_rQi=d,A.rQlen=e,A.rQpeek8=f,A.rQshift8=g,A.rQunshift8=h,A.rQshift16=i,A.rQshift32=j,A.rQshiftStr=k,A.rQshiftBytes=l,A.rQslice=m,A.rQwait=n,A.flush=q,A.send=r,A.send_string=s,A.on=u,A.init=v,A.open=w,A.close=x,A.testMode=y,A}var A={},B=null,C="base64",D=[],E=0,F=1e4,G=[],H={message:function(){},open:function(){},close:function(){},error:function(){}},I=!1;return z()}function DES(a){function b(a){var b,c,d,e,f,g,h,i,j,k,l=[],m=[],n=[];for(c=0,d=56;56>c;++c,d-=8)d+=-5>d?65:-3>d?31:-1>d?63:27===d?35:0,e=7&d,l[c]=0!==(a[d>>>3]&1<<e)?1:0;for(b=0;16>b;++b){for(e=b<<1,f=e+1,n[e]=n[f]=0,g=28;59>g;g+=28)for(c=g-28;g>c;++c)d=c+t[b],m[c]=g>d?l[d]:l[d-28];for(c=0;24>c;++c)0!==m[s[c]]&&(n[e]|=1<<23-c),0!==m[s[c+24]]&&(n[f]|=1<<23-c)}for(b=0,j=0,k=0;16>b;++b)h=n[j++],i=n[j++],v[k]=(16515072&h)<<6,v[k]|=(4032&h)<<10,v[k]|=(16515072&i)>>>10,v[k]|=(4032&i)>>>6,++k,v[k]=(258048&h)<<12,v[k]|=(63&h)<<16,v[k]|=(258048&i)>>>4,v[k]|=63&i,++k}function c(a){var b,c,d,e,f=0,g=a.slice(),h=0;for(c=g[f++]<<24|g[f++]<<16|g[f++]<<8|g[f++],d=g[f++]<<24|g[f++]<<16|g[f++]<<8|g[f++],e=252645135&(c>>>4^d),d^=e,c^=e<<4,e=65535&(c>>>16^d),d^=e,c^=e<<16,e=858993459&(d>>>2^c),c^=e,d^=e<<2,e=16711935&(d>>>8^c),c^=e,d^=e<<8,d=d<<1|d>>>31&1,e=2863311530&(c^d),c^=e,d^=e,c=c<<1|c>>>31&1,f=0;8>f;++f)e=d<<28|d>>>4,e^=v[h++],b=q[63&e],b|=o[e>>>8&63],b|=m[e>>>16&63],b|=k[e>>>24&63],e=d^v[h++],b|=r[63&e],b|=p[e>>>8&63],b|=n[e>>>16&63],b|=l[e>>>24&63],c^=b,e=c<<28|c>>>4,e^=v[h++],b=q[63&e],b|=o[e>>>8&63],b|=m[e>>>16&63],b|=k[e>>>24&63],e=c^v[h++],b|=r[63&e],b|=p[e>>>8&63],b|=n[e>>>16&63],b|=l[e>>>24&63],d^=b;for(d=d<<31|d>>>1,e=2863311530&(c^d),c^=e,d^=e,c=c<<31|c>>>1,e=16711935&(c>>>8^d),d^=e,c^=e<<8,e=858993459&(c>>>2^d),d^=e,c^=e<<2,e=65535&(d>>>16^c),c^=e,d^=e<<16,e=252645135&(d>>>4^c),c^=e,d^=e<<4,e=[d,c],f=0;8>f;f++)g[f]=(e[f>>>2]>>>8*(3-f%4))%256,g[f]<0&&(g[f]+=256);return g}function d(a){return c(a.slice(0,8)).concat(c(a.slice(8,16)))}var e,f,g,h,i,j,k,l,m,n,o,p,q,r,s=[13,16,10,23,0,4,2,27,14,5,20,9,22,18,11,3,25,7,15,6,26,19,12,1,40,51,30,36,46,54,29,39,50,44,32,47,43,48,38,55,33,52,45,41,49,35,28,31],t=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],u=0,v=[];return e=65536,f=1<<24,g=e|f,h=4,i=1024,j=h|i,k=[g|i,u|u,e|u,g|j,g|h,e|j,u|h,e|u,u|i,g|i,g|j,u|i,f|j,g|h,f|u,u|h,u|j,f|i,f|i,e|i,e|i,g|u,g|u,f|j,e|h,f|h,f|h,e|h,u|u,u|j,e|j,f|u,e|u,g|j,u|h,g|u,g|i,f|u,f|u,u|i,g|h,e|u,e|i,f|h,u|i,u|h,f|j,e|j,g|j,e|h,g|u,f|j,f|h,u|j,e|j,g|i,u|j,f|i,f|i,u|u,e|h,e|i,u|u,g|h],e=1<<20,f=1<<31,g=e|f,h=32,i=32768,j=h|i,l=[g|j,f|i,u|i,e|j,e|u,u|h,g|h,f|j,f|h,g|j,g|i,f|u,f|i,e|u,u|h,g|h,e|i,e|h,f|j,u|u,f|u,u|i,e|j,g|u,e|h,f|h,u|u,e|i,u|j,g|i,g|u,u|j,u|u,e|j,g|h,e|u,f|j,g|u,g|i,u|i,g|u,f|i,u|h,g|j,e|j,u|h,u|i,f|u,u|j,g|i,e|u,f|h,e|h,f|j,f|h,e|h,e|i,u|u,f|i,u|j,f|u,g|h,g|j,e|i],e=1<<17,f=1<<27,g=e|f,h=8,i=512,j=h|i,m=[u|j,g|i,u|u,g|h,f|i,u|u,e|j,f|i,e|h,f|h,f|h,e|u,g|j,e|h,g|u,u|j,f|u,u|h,g|i,u|i,e|i,g|u,g|h,e|j,f|j,e|i,e|u,f|j,u|h,g|j,u|i,f|u,g|i,f|u,e|h,u|j,e|u,g|i,f|i,u|u,u|i,e|h,g|j,f|i,f|h,u|i,u|u,g|h,f|j,e|u,f|u,g|j,u|h,e|j,e|i,f|h,g|u,f|j,u|j,g|u,e|j,u|h,g|h,e|i],e=8192,f=1<<23,g=e|f,h=1,i=128,j=h|i,n=[g|h,e|j,e|j,u|i,g|i,f|j,f|h,e|h,u|u,g|u,g|u,g|j,u|j,u|u,f|i,f|h,u|h,e|u,f|u,g|h,u|i,f|u,e|h,e|i,f|j,u|h,e|i,f|i,e|u,g|i,g|j,u|j,f|i,f|h,g|u,g|j,u|j,u|u,u|u,g|u,e|i,f|i,f|j,u|h,g|h,e|j,e|j,u|i,g|j,u|j,u|h,e|u,f|h,e|h,g|i,f|j,e|h,e|i,f|u,g|h,u|i,f|u,e|u,g|i],e=1<<25,f=1<<30,g=e|f,h=256,i=1<<19,j=h|i,o=[u|h,e|j,e|i,g|h,u|i,u|h,f|u,e|i,f|j,u|i,e|h,f|j,g|h,g|i,u|j,f|u,e|u,f|i,f|i,u|u,f|h,g|j,g|j,e|h,g|i,f|h,u|u,g|u,e|j,e|u,g|u,u|j,u|i,g|h,u|h,e|u,f|u,e|i,g|h,f|j,e|h,f|u,g|i,e|j,f|j,u|h,e|u,g|i,g|j,u|j,g|u,g|j,e|i,u|u,f|i,g|u,u|j,e|h,f|h,u|i,u|u,f|i,e|j,f|h],e=1<<22,f=1<<29,g=e|f,h=16,i=16384,j=h|i,p=[f|h,g|u,u|i,g|j,g|u,u|h,g|j,e|u,f|i,e|j,e|u,f|h,e|h,f|i,f|u,u|j,u|u,e|h,f|j,u|i,e|i,f|j,u|h,g|h,g|h,u|u,e|j,g|i,u|j,e|i,g|i,f|u,f|i,u|h,g|h,e|i,g|j,e|u,u|j,f|h,e|u,f|i,f|u,u|j,f|h,g|j,e|i,g|u,e|j,g|i,u|u,g|h,u|h,u|i,g|u,e|j,u|i,e|h,f|j,u|u,g|i,f|u,e|h,f|j],e=1<<21,f=1<<26,g=e|f,h=2,i=2048,j=h|i,q=[e|u,g|h,f|j,u|u,u|i,f|j,e|j,g|i,g|j,e|u,u|u,f|h,u|h,f|u,g|h,u|j,f|i,e|j,e|h,f|i,f|h,g|u,g|i,e|h,g|u,u|i,u|j,g|j,e|i,u|h,f|u,e|i,f|u,e|i,e|u,f|j,f|j,g|h,g|h,u|h,e|h,f|u,f|i,e|u,g|i,u|j,e|j,g|i,u|j,f|h,g|j,g|u,e|i,u|u,u|h,g|j,u|u,e|j,g|u,u|i,f|h,f|i,u|i,e|h],e=1<<18,f=1<<28,g=e|f,h=64,i=4096,j=h|i,r=[f|j,u|i,e|u,g|j,f|u,f|j,u|h,f|u,e|h,g|u,g|j,e|i,g|i,e|j,u|i,u|h,g|u,f|h,f|i,u|j,e|i,e|h,g|h,g|i,u|j,u|u,u|u,g|h,f|h,f|i,e|j,e|u,e|j,e|u,g|i,u|i,u|h,g|h,u|i,e|j,f|i,u|h,f|h,g|u,g|h,f|u,e|u,f|j,u|u,g|j,e|h,f|h,g|u,f|i,f|j,u|u,g|j,e|i,e|i,u|j,u|j,e|h,f|u,g|i],b(a),{encrypt:d}}function Keyboard(a){function b(a){var b=null;switch(a.keyCode){case 8:b=65288;break;case 13:b=65293;break;case 9:b=65289}if("keydown"===a.type)switch(a.keyCode){case 27:b=65307;break;case 46:b=65535;break;case 36:b=65360;break;case 35:b=65367;break;case 33:b=65365;break;case 34:b=65366;break;case 45:b=65379;break;case 37:b=65361;break;case 38:b=65362;break;case 39:b=65363;break;case 40:b=65364;break;case 16:b=65505;break;case 17:b=65507;break;case 18:b=65513;break;case 112:b=65470;break;case 113:b=65471;break;case 114:b=65472;break;case 115:b=65473;break;case 116:b=65474;break;case 117:b=65475;break;case 118:b=65476;break;case 119:b=65477;break;case 120:b=65478;break;case 121:b=65479;break;case 122:b=65480;break;case 123:b=65481;break;case 225:b=65027;break;case 91:b=65516;break;case 93:b=65383}if(!b&&(a.ctrlKey||a.altKey)){switch("undefined"!=typeof a.which&&a.which>0?b=a.which:(Util.Warn("which not set, using keyCode"),b=a.keyCode),b){case 186:b=59;break;case 187:b=61;break;case 188:b=44;break;case 109:(Util.Engine.gecko||Util.Engine.presto)&&(b=45);break;case 173:Util.Engine.gecko&&(b=45);break;case 189:b=45;break;case 190:b=46;break;case 191:b=47;break;case 192:b=96;break;case 219:b=91;break;case 220:b=92;break;case 221:b=93;break;case 222:b=39}if(a.shiftKey)switch(b){case 48:b=41;break;case 49:b=33;break;case 50:b=64;break;case 51:b=35;break;case 52:b=36;break;case 53:b=37;break;case 54:b=94;break;case 55:b=38;break;case 56:b=42;break;case 57:b=40;break;case 59:b=58;break;case 61:b=43;break;case 44:b=60;break;case 45:b=95;break;case 46:b=62;break;case 47:b=63;break;case 96:b=126;break;case 91:b=123;break;case 92:b=124;break;case 93:b=125;break;case 39:b=34}else if(b>=65&&90>=b)b+=32;else if(3===a.keyLocation)switch(b){case 96:b=48;break;case 97:b=49;break;case 98:b=50;break;case 99:b=51;break;case 100:b=52;break;case 101:b=53;break;case 102:b=54;break;case 103:b=55;break;case 104:b=56;break;case 105:b=57;break;case 109:b=45;break;case 110:b=46;break;case 111:b=47}}return b}function c(a){var b,c;return"undefined"!=typeof a.which?b=a.which:(Util.Warn("which not set, using keyCode"),b=a.keyCode),b>255&&65280>b&&(c="Mapping character code "+b,b=window.unicodeTable[b],"undefined"==typeof b&&(b=0),Util.Debug(c+" to "+b)),b}function d(a){var b,c=["type","keyCode","charCode","which","altKey","ctrlKey","shiftKey","keyLocation","keyIdentifier"],d={};for(b=0;b<c.length;b++)"undefined"!=typeof a[c[b]]&&(d[c[b]]=a[c[b]]);return d}function e(a){n.push(a)}function f(a,b){var c,d=null;for(c=n.length-1;c>=0;c--)if(n[c].keyCode===a){d="undefined"!=typeof b&&b?n.splice(c,1)[0]:n[c];break}return d}function g(a){return 229===a.keyCode?!0:!1}function h(a){if(!m.focused)return!0;var c=null,f=a?a:window.event,h=null,i=!1;return c=d(f),h=b(f),c.keysym=h,h&&(m.onKeyPress&&!g(f)&&(Util.Debug("onKeyPress down, keysym: "+h+" (onKeyDown key: "+f.keyCode+", which: "+f.which+")"),m.onKeyPress(h,1,f)),i=!0),g(f)||e(c),i?(Util.stopEvent(a),!1):!0}function i(a){if(!m.focused)return!0;var d=a?a:window.event,e=n.length,f=null;return"undefined"!==d.which&&0===d.which||b(d)?(Util.Debug("Ignoring special key in keyPress"),Util.stopEvent(a),!1):(f=c(d),e>0?n[e-1].keysym=f:Util.Warn("keyDownList empty when keyPress triggered"),m.onKeyPress&&f>0&&(Util.Debug("onKeyPress down, keysym: "+f+" (onKeyPress key: "+d.keyCode+", which: "+d.which+")"),m.onKeyPress(f,1,d)),Util.stopEvent(a),!1)}function j(a){if(!m.focused)return!0;var b,c=null,d=a?a:window.event;return c=f(d.keyCode,!0),c?b=c.keysym:(Util.Warn("Key event (keyCode = "+d.keyCode+") not found on keyDownList"),b=0),m.onKeyPress&&b>0&&(Util.Debug("onKeyPress up, keysym: "+b+" (onKeyPress key: "+d.keyCode+", which: "+d.which+")"),m.onKeyPress(b,0,d)),Util.stopEvent(a),!1}function k(){Util.Debug(">> Keyboard.allKeysUp"),n.length>0&&Util.Info("Releasing pressed/down keys");var a,b,c=null;for(a=n.length-1;a>=0;a--)c=n.splice(a,1)[0],b=c.keysym,m.onKeyPress&&b>0&&(Util.Debug("allKeysUp, keysym: "+b+" (keyCode: "+c.keyCode+", which: "+c.which+")"),m.onKeyPress(b,0,c));Util.Debug("<< Keyboard.allKeysUp")}var l={},m={},n=[];return Util.conf_defaults(m,l,a,[["target","wo","dom",document,"DOM element that captures keyboard input"],["focused","rw","bool",!0,"Capture and send key events"],["onKeyPress","rw","func",null,"Handler for key press/release"]]),l.grab=function(){var a=m.target;Util.addEvent(a,"keydown",h),Util.addEvent(a,"keyup",j),Util.addEvent(a,"keypress",i),Util.addEvent(window,"blur",k)},l.ungrab=function(){var a=m.target;Util.removeEvent(a,"keydown",h),Util.removeEvent(a,"keyup",j),Util.removeEvent(a,"keypress",i),Util.removeEvent(window,"blur",k),k()},l}function Mouse(a){function b(a,b){var c,d,e;return i.focused?(c=a?a:window.event,d=Util.getEventPosition(a,i.target,i.scale),e=a.touches||a.changedTouches?i.touchButton:c.which?1<<c.button:(1&c.button)+2*(2&c.button)+(4&c.button)/2,e>0&&i.onMouseButton&&(Util.Debug("onMouseButton "+(b?"down":"up")+", x: "+d.x+", y: "+d.y+", bmask: "+e),i.onMouseButton(d.x,d.y,b,e)),Util.stopEvent(a),!1):!0}function c(a){b(a,1)}function d(a){b(a,0)}function e(a){var b,c,d,e;return i.focused?(b=a?a:window.event,c=Util.getEventPosition(a,i.target,i.scale),e=b.detail?-1*b.detail:b.wheelDelta/40,d=e>0?8:16,i.onMouseButton&&(i.onMouseButton(c.x,c.y,1,d),i.onMouseButton(c.x,c.y,0,d)),Util.stopEvent(a),!1):!0}function f(a){var b,c;return i.focused?(b=a?a:window.event,c=Util.getEventPosition(a,i.target,i.scale),i.onMouseMove&&i.onMouseMove(c.x,c.y),Util.stopEvent(a),!1):!0}function g(a){var b,c;return i.focused?(b=a?a:window.event,c=Util.getEventPosition(a,i.target,i.scale),c.x>=0&&c.y>=0&&c.x<i.target.offsetWidth&&c.y<i.target.offsetHeight?(Util.stopEvent(a),!1):!0):!0}var h={},i={};return Util.conf_defaults(i,h,a,[["target","ro","dom",document,"DOM element that captures mouse input"],["focused","rw","bool",!0,"Capture and send mouse clicks/movement"],["scale","rw","float",1,"Viewport scale factor 0.0 - 1.0"],["onMouseButton","rw","func",null,"Handler for mouse button click/release"],["onMouseMove","rw","func",null,"Handler for mouse movement"],["touchButton","rw","int",1,"Button mask (1, 2, 4) for touch devices (0 means ignore clicks)"]]),h.grab=function(){var a=i.target;"ontouchstart"in document.documentElement?(Util.addEvent(a,"touchstart",c),Util.addEvent(a,"touchend",d),Util.addEvent(a,"touchmove",f)):(Util.addEvent(a,"mousedown",c),Util.addEvent(a,"mouseup",d),Util.addEvent(a,"mousemove",f),Util.addEvent(a,Util.Engine.gecko?"DOMMouseScroll":"mousewheel",e)),Util.addEvent(document,"click",g),Util.addEvent(document.body,"contextmenu",g)},h.ungrab=function(){var a=i.target;"ontouchstart"in document.documentElement?(Util.removeEvent(a,"touchstart",c),Util.removeEvent(a,"touchend",d),Util.removeEvent(a,"touchmove",f)):(Util.removeEvent(a,"mousedown",c),Util.removeEvent(a,"mouseup",d),Util.removeEvent(a,"mousemove",f),Util.removeEvent(a,Util.Engine.gecko?"DOMMouseScroll":"mousewheel",e)),Util.removeEvent(document,"click",g),Util.removeEvent(document.body,"contextmenu",g)},h}function Display(a){function b(){Util.Debug(">> Display.constructor");var a,b,c,d,e=Util.Engine;if(!j.target)throw"target must be set";if("string"==typeof j.target)throw"target must be a DOM element";if(a=j.target,!a.getContext)throw"no getContext method";if(k||(k=a.getContext("2d")),Util.Debug("User Agent: "+navigator.userAgent),e.gecko&&Util.Debug("Browser: gecko "+e.gecko),e.webkit&&Util.Debug("Browser: webkit "+e.webkit),e.trident&&Util.Debug("Browser: trident "+e.trident),e.presto&&Util.Debug("Browser: presto "+e.presto),i.clear(),!("createImageData"in k))throw"Canvas does not support createImageData";for(j.render_mode="canvas rendering",null===j.prefer_js&&(Util.Info("Prefering javascript operations"),j.prefer_js=!0),s=k.createImageData(16,16),c=[],b=0;256>b;b+=1)c.push(255);try{d=a.style.cursor,changeCursor(j.target,c,c,2,2,8,8),a.style.cursor?(null===j.cursor_uri&&(j.cursor_uri=!0),Util.Info("Data URI scheme cursor supported")):(null===j.cursor_uri&&(j.cursor_uri=!1),Util.Warn("Data URI scheme cursor not supported")),a.style.cursor=d}catch(f){Util.Error("Data URI scheme cursor test exception: "+f),j.cursor_uri=!1}return Util.Debug("<< Display.constructor"),i}var c,d,e,f,g,h,i={},j={},k=null,l=[],m=0,n=0,o={x:0,y:0,w:0,h:0},p={x1:0,y1:0,x2:-1,y2:-1},q="",r=null,s=null,t=0,u=0;return Util.conf_defaults(j,i,a,[["target","wo","dom",null,"Canvas element for rendering"],["context","ro","raw",null,"Canvas 2D context for rendering (read-only)"],["logo","rw","raw",null,'Logo to display when cleared: {"width": width, "height": height, "data": data}'],["true_color","rw","bool",!0,"Use true-color pixel data"],["colourMap","rw","arr",[],"Colour map array (when not true-color)"],["scale","rw","float",1,"Display area scale factor 0.0 - 1.0"],["viewport","rw","bool",!1,"Use a viewport set with viewportChange()"],["width","rw","int",null,"Display area width"],["height","rw","int",null,"Display area height"],["render_mode","ro","str","","Canvas rendering mode (read-only)"],["prefer_js","rw","str",null,"Prefer Javascript over canvas methods"],["cursor_uri","rw","raw",null,"Can we render cursor using data URI"]]),i.get_context=function(){return k},i.set_scale=function(a){g(a)},i.set_width=function(a){i.resize(a,n)},i.get_width=function(){return m},i.set_height=function(a){i.resize(m,a)},i.get_height=function(){return n},g=function(a){var b,c,d,e,f=["transform","WebkitTransform","MozTransform",null];for(b=j.target,c=f.shift();c&&"undefined"==typeof b.style[c];)c=f.shift();return null===c?(Util.Debug("No scaling support"),void 0):("undefined"==typeof a?a=j.scale:a>1?a=1:.1>a&&(a=.1),j.scale!==a&&(j.scale=a,d=b.width-b.width*a,e=b.height-b.height*a,b.style[c]="scale("+j.scale+") translate(-"+d+"px, -"+e+"px)"),void 0)},f=function(a){var b,c;b=j.true_color?a:j.colourMap[a[0]],c="rgb("+b[2]+","+b[1]+","+b[0]+")",c!==q&&(k.fillStyle=c,q=c)},i.viewportChange=function(a,b,c,d){var e,f,g,h,i,l,q,r=j.target,s=o,t=p,u=null;j.viewport||(Util.Debug("Setting viewport to full display region"),a=-s.w,b=-s.h,c=m,d=n),"undefined"==typeof a&&(a=0),"undefined"==typeof b&&(b=0),"undefined"==typeof c&&(c=s.w),"undefined"==typeof d&&(d=s.h),c>m&&(c=m),d>n&&(d=n),(s.w!==c||s.h!==d)&&(c<s.w&&t.x2>s.x+c-1&&(t.x2=s.x+c-1),s.w=c,d<s.h&&t.y2>s.y+d-1&&(t.y2=s.y+d-1),s.h=d,s.w>0&&s.h>0&&r.width>0&&r.height>0&&(u=k.getImageData(0,0,r.width<s.w?r.width:s.w,r.height<s.h?r.height:s.h)),r.width=s.w,r.height=s.h,u&&k.putImageData(u,0,0)),h=s.x+s.w-1,i=s.y+s.h-1,0>a&&s.x+a<0&&(a=-s.x),h+a>=m&&(a-=h+a-m+1),s.y+b<0&&(b=-s.y),i+b>=n&&(b-=i+b-n+1),(0!==a||0!==b)&&(Util.Debug("viewportChange deltaX: "+a+", deltaY: "+b),s.x+=a,h+=a,s.y+=b,i+=b,s.x>t.x1&&(t.x1=s.x),h<t.x2&&(t.x2=h),s.y>t.y1&&(t.y1=s.y),i<t.y2&&(t.y2=i),0>a?(f=0,l=-a):(f=s.w-a,l=a),0>b?(g=0,q=-b):(g=s.h-b,q=b),e=k.fillStyle,k.fillStyle="rgb(255,255,255)",0!==a&&(k.drawImage(r,0,0,s.w,s.h,-a,0,s.w,s.h),k.fillRect(f,0,l,s.h)),0!==b&&(k.drawImage(r,0,0,s.w,s.h,0,-b,s.w,s.h),k.fillRect(0,g,s.w,q)),k.fillStyle=e)},i.getCleanDirtyReset=function(){var a,b=o,c=p,d=[],e=b.x+b.w-1,f=b.y+b.h-1;return a={x:c.x1,y:c.y1,w:c.x2-c.x1+1,h:c.y2-c.y1+1},c.x1>=c.x2||c.y1>=c.y2?d.push({x:b.x,y:b.y,w:b.w,h:b.h}):(b.x<c.x1&&d.push({x:b.x,y:b.y,w:c.x1-b.x+1,h:b.h}),e>c.x2&&d.push({x:c.x2+1,y:b.y,w:e-c.x2,h:b.h}),b.y<c.y1&&d.push({x:c.x1,y:b.y,w:c.x2-c.x1+1,h:c.y1-b.y}),f>c.y2&&d.push({x:c.x1,y:c.y2+1,w:c.x2-c.x1+1,h:f-c.y2})),p={x1:b.x,y1:b.y,x2:b.x+b.w-1,y2:b.y+b.h-1},{cleanBox:a,dirtyBoxes:d}},i.absX=function(a){return a+o.x},i.absY=function(a){return a+o.y},i.resize=function(a,b){q="",m=a,n=b,g(j.scale),i.viewportChange()},i.clear=function(){j.logo?(i.resize(j.logo.width,j.logo.height),i.blitStringImage(j.logo.data,0,0)):(i.resize(640,20),k.clearRect(0,0,o.w,o.h)),l=[]},i.fillRect=function(a,b,c,d,e){f(e),k.fillRect(a-o.x,b-o.y,c,d)},i.copyImage=function(a,b,c,d,e,f){var g=a-o.x,h=b-o.y,i=c-o.x,l=d-o.y;k.drawImage(j.target,g,h,e,f,i,l,e,f)},i.startTile=function(a,b,c,d,e){var f,g,h,l,m,n;if(t=a,u=b,r=16===c&&16===d?s:k.createImageData(c,d),f=r.data,j.prefer_js)for(g=j.true_color?e:j.colourMap[e[0]],h=g[2],l=g[1],m=g[0],n=0;c*d*4>n;n+=4)f[n]=h,f[n+1]=l,f[n+2]=m,f[n+3]=255;else i.fillRect(a,b,c,d,e)},i.subTile=function(a,b,c,d,e){var f,g,h,k,l,m,n,o,p,q,s;if(j.prefer_js)for(f=r.data,n=r.width,h=j.true_color?e:j.colourMap[e[0]],k=h[2],l=h[1],m=h[0],q=a+c,s=b+d,o=b;s>o;o+=1)for(p=a;q>p;p+=1)g=4*(p+o*n),f[g]=k,f[g+1]=l,f[g+2]=m,f[g+3]=255;else i.fillRect(t+a,u+b,c,d,e)},i.finishTile=function(){j.prefer_js&&k.putImageData(r,t-o.x,u-o.y)},c=function(a,b,c,d,e,f,g,h){var i,j,l,m;for(i=k.createImageData(e,f),m=i.data,j=0,l=h;e*f*4>j;j+=4,l+=3)m[j]=g[l],m[j+1]=g[l+1],m[j+2]=g[l+2],m[j+3]=255;k.putImageData(i,a-c,b-d)},d=function(a,b,c,d,e,f,g,h){var i,j,l,m;for(i=k.createImageData(e,f),m=i.data,j=0,l=h;e*f*4>j;j+=4,l+=4)m[j]=g[l+2],m[j+1]=g[l+1],m[j+2]=g[l],m[j+3]=255;k.putImageData(i,a-c,b-d)},e=function(a,b,c,d,e,f,g,h){var i,l,m,n,o,p;for(i=k.createImageData(e,f),n=i.data,p=j.colourMap,l=0,m=h;e*f*4>l;l+=4,m+=1)o=p[g[m]],n[l]=o[2],n[l+1]=o[1],n[l+2]=o[0],n[l+3]=255;k.putImageData(i,a-c,b-d)},i.blitImage=function(a,b,c,f,g,h){j.true_color?d(a,b,o.x,o.y,c,f,g,h):e(a,b,o.x,o.y,c,f,g,h)},i.blitRgbImage=function(a,b,d,f,g,h){j.true_color?c(a,b,o.x,o.y,d,f,g,h):e(a,b,o.x,o.y,d,f,g,h)},i.blitStringImage=function(a,b,c){var d=new Image;d.onload=function(){k.drawImage(d,b-o.x,c-o.y)},d.src=a},i.drawImage=function(a,b,c){k.drawImage(a,b-o.x,c-o.y)},i.renderQ_push=function(a){l.push(a),1===l.length&&h()},h=function(){for(var a,b=!0;b&&l.length>0;){switch(a=l[0],a.type){case"copy":i.copyImage(a.old_x,a.old_y,a.x,a.y,a.width,a.height);break;case"fill":i.fillRect(a.x,a.y,a.width,a.height,a.color);break;case"blit":i.blitImage(a.x,a.y,a.width,a.height,a.data,0);break;case"blitRgb":i.blitRgbImage(a.x,a.y,a.width,a.height,a.data,0);break;case"img":a.img.complete?i.drawImage(a.img,a.x,a.y):b=!1}b&&(a=l.shift())}l.length>0&&requestAnimFrame(h)},i.changeCursor=function(a,b,c,d,e,f){return j.cursor_uri===!1?(Util.Warn("changeCursor called but no cursor data URI support"),void 0):(j.true_color?changeCursor(j.target,a,b,c,d,e,f):changeCursor(j.target,a,b,c,d,e,f,j.colourMap),void 0)},i.defaultCursor=function(){j.target.style.cursor="default"},b()}function changeCursor(a,b,c,d,e,f,g,h){var i,j,k,l,m,n,o,p,q,r,s=[],t=f,u=g;for(t>u?u=t:t=u,s.push16le=function(a){this.push(255&a,a>>8&255)},s.push32le=function(a){this.push(255&a,a>>8&255,a>>16&255,a>>24&255)},j=40,k=t*u*4,m=Math.ceil(t*u/8),l=Math.ceil(t*u/8),s.push16le(0),s.push16le(2),s.push16le(1),s.push(t),s.push(u),s.push(0),s.push(0),s.push16le(d),s.push16le(e),s.push32le(j+k+m+l),s.push32le(22),s.push32le(j),s.push32le(t),s.push32le(2*u),s.push16le(1),s.push16le(32),s.push32le(0),s.push32le(m+l),s.push32le(0),s.push32le(0),s.push32le(0),s.push32le(0),r=u-1;r>=0;r-=1)for(q=0;t>q;q+=1)q>=f||r>=g?(s.push(0),s.push(0),s.push(0),s.push(0)):(o=r*Math.ceil(f/8)+Math.floor(q/8),p=c[o]<<q%8&128?255:0,h?(o=f*r+q,i=h[b[o]],s.push(i[2]),s.push(i[1]),s.push(i[0]),s.push(p)):(o=4*(f*r+q),s.push(b[o+2]),s.push(b[o+1]),s.push(b[o]),s.push(p)));for(r=0;u>r;r+=1)for(q=0;q<Math.ceil(t/8);q+=1)s.push(0);for(r=0;u>r;r+=1)for(q=0;q<Math.ceil(t/8);q+=1)s.push(0);n="data:image/x-icon;base64,"+Base64.encode(s),a.style.cursor="url("+n+") "+d+" "+e+", default"}function RFB(a){function b(){var a,b;for(Util.Debug(">> RFB.constructor"),a=0;a<L.length;a+=1)M[L[a][1]]=M[L[a][0]],N[L[a][1]]=L[a][0],O[L[a][1]]=[0,0];try{Q=new Display({target:C.target})}catch(c){Util.Error("Display exception: "+c),h("fatal","No working Display")}return R=new Keyboard({target:C.focusContainer,onKeyPress:x}),S=new Mouse({target:C.target,onMouseButton:y,onMouseMove:z}),b=Q.get_render_mode(),P=new Websock,P.on("message",j),P.on("open",function(){"connect"===H?h("ProtocolVersion","Starting VNC handshake"):i("Got unexpected WebSockets connection")}),P.on("close",function(a){Util.Warn("WebSocket on-close event");var b="";a.code&&(b=" (code: "+a.code,a.reason&&(b+=", reason: "+a.reason),b+=")"),"disconnect"===H?h("disconnected","VNC disconnected"+b):"ProtocolVersion"===H?i("Failed to connect to server"+b):H in{failed:1,disconnected:1}?Util.Error("Received onclose while disconnected"+b):i("Server disconnected"+b)}),P.on("error",function(){Util.Warn("WebSocket on-error event")}),g(),window.Websock_native?(Util.Info("Using native WebSockets"),h("loaded","noVNC ready: native WebSockets, "+b)):(Util.Warn("Using web-socket-js bridge. Flash version: "+Util.Flash.version),!Util.Flash||Util.Flash.version<9?h("fatal","WebSockets or <a href='http://get.adobe.com/flashplayer'>Adobe Flash</a> is required"):"file://"===document.location.href.substr(0,7)?h("fatal","'file://' URL is incompatible with Adobe Flash"):h("loaded","noVNC ready: WebSockets emulation, "+b)),Util.Debug("<< RFB.constructor"),B}function c(){Util.Debug(">> RFB.connect");var a;"undefined"!=typeof UsingSocketIO?a="http://"+D+":"+E+"/"+G:(a=C.encrypt?"wss://":"ws://",a+=D+":"+E+"/"+G),Util.Info("connecting to "+a),P.open(a,["binary","base64"]),Util.Debug("<< RFB.connect")}function d(a,b){var c,d=[];for(c=0;c<a.length;c+=1)d.push(a.charCodeAt(c));return new DES(d).encrypt(b)}function e(){return hb.length>0?(P.send(hb),setTimeout(function(){P.send(r())},50),hb=[],!0):!1}function f(a){1===Z&&i("Tight protocol handler only implements true color mode");var b,c,d,e,f,g,h=-1,j=0,k=-1,l=P.get_rQ(),m=P.get_rQi();if(X.bytes=1,P.rQwait("TIGHT compression-control",X.bytes))return!1;var n=function(a){for(var b=0;4>b;b++)j>>b&1&&(X.zlibs[b].reset(),Util.Info("Reset zlib stream "+b));var c=X.zlibs[k].uncompress(a,0);return 0!==c.status&&Util.Error("Invalid data in zlib stream"),c.data},o=function(a,b,c,d,e){var f,g,h,i,j,k,l,m=[];if(2===b)for(i=Math.floor((d+7)/8),j=Math.floor(d/8),g=0;e>g;g++){for(f=0;j>f;f++)for(h=7;h>=0;h--)k=3*(g*d+8*f+7-h),l=3*(a[g*i+f]>>h&1),m[k]=c[l],m[k+1]=c[l+1],m[k+2]=c[l+2];for(h=7;h>=8-d%8;h--)k=3*(g*d+8*f+7-h),l=3*(a[g*i+f]>>h&1),m[k]=c[l],m[k+1]=c[l+1],m[k+2]=c[l+2]}else for(g=0;e>g;g++)for(f=0;d>f;f++)k=3*(g*d+f),l=3*a[g*d+f],m[k]=c[l],m[k+1]=c[l+1],m[k+2]=c[l+2];return m},p=function(){var a=l[m+2]+1,b=a*Z;if(X.bytes+=b,P.rQwait("TIGHT palette "+c,X.bytes))return!1;var e=2>=a?1:8,f=Math.floor((X.width*e+7)/8),h=!1;if(f*X.height<12?(h=!0,d=[0,f*X.height]):d=v(P.rQslice(3+b,3+b+3)),X.bytes+=d[0]+d[1],P.rQwait("TIGHT "+c,X.bytes))return!1;P.rQshiftBytes(3);var i=P.rQshiftBytes(b);P.rQshiftBytes(d[0]),g=h?P.rQshiftBytes(d[1]):n(P.rQshiftBytes(d[1]));var j=o(g,a,i,X.width,X.height);return Q.renderQ_push({type:"blitRgb",data:j,x:X.x,y:X.y,width:X.width,height:X.height}),!0},q=function(){var a=!1,b=X.width*X.height*Z;return 12>b?(a=!0,d=[0,b]):d=v(P.rQslice(1,4)),X.bytes=1+d[0]+d[1],P.rQwait("TIGHT "+c,X.bytes)?!1:(P.rQshiftBytes(1+d[0]),g=a?P.rQshiftBytes(d[1]):n(P.rQshiftBytes(d[1])),Q.renderQ_push({type:"blitRgb",data:g,x:X.x,y:X.y,width:X.width,height:X.height}),!0)};if(b=P.rQpeek8(),j=15&b,b>>=4,k=3&b,8===b)c="fill";else if(9===b)c="jpeg";else if(10===b)c="png";else if(4&b)c="filter";else{if(!(4>b))return i("Illegal tight compression received, ctl: "+b);c="copy"}if(a&&("filter"===c||"copy"===c))return i("filter/copy received in tightPNG mode");switch(c){case"fill":X.bytes+=Z;break;case"jpeg":X.bytes+=3;break;case"png":X.bytes+=3;break;case"filter":X.bytes+=2;break;case"copy":}if(P.rQwait("TIGHT "+c,X.bytes))return!1;switch(c){case"fill":P.rQshift8(),e=P.rQshiftBytes(Z),Q.renderQ_push({type:"fill",x:X.x,y:X.y,width:X.width,height:X.height,color:[e[2],e[1],e[0]]});break;case"png":case"jpeg":if(d=v(P.rQslice(1,4)),X.bytes=1+d[0]+d[1],P.rQwait("TIGHT "+c,X.bytes))return!1;P.rQshiftBytes(1+d[0]),f=new Image,f.src="data:image/"+c+w(P.rQshiftBytes(d[1])),Q.renderQ_push({type:"img",img:f,x:X.x,y:X.y}),f=null;break;case"filter":if(h=l[m+1],1!==h)throw"Unsupported tight subencoding received, filter: "+h;if(!p())return!1;break;case"copy":if(!q())return!1}return X.bytes=0,X.rects-=1,!0}var g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B={},C={},D="",E=5900,F="",G="",H="disconnected",I=0,J=3.8,K="",L=[["COPYRECT",1],["TIGHT",7],["TIGHT_PNG",-260],["HEXTILE",5],["RRE",2],["RAW",0],["DesktopSize",-223],["Cursor",-239],["JPEG_quality_med",-26],["compress_hi",-247],["last_rect",-224]],M={},N={},O={},P=null,Q=null,R=null,S=null,T=null,U=null,V=null,W=null,X={rects:0,subrects:0,lines:0,tiles:0,bytes:0,x:0,y:0,width:0,height:0,encoding:0,subencoding:-1,background:null,zlibs:[]},Y=4,Z=3,$=0,_=0,ab="",bb=0,cb=100,db={last_fbu:0,fbu_total:0,fbu_total_cnt:0,full_fbu_total:0,full_fbu_cnt:0,fbu_rt_start:0,fbu_rt_total:0,fbu_rt_cnt:0,pixels:0},eb=!1,fb=window.Websock_native?2:5,gb=0,hb=[],ib=!1,jb={};return Util.conf_defaults(C,B,a,[["target","wo","dom",null,"VNC display rendering Canvas object"],["focusContainer","wo","dom",document,"DOM element that captures keyboard input"],["encrypt","rw","bool",!1,"Use TLS/SSL/wss encryption"],["true_color","rw","bool",!0,"Request true color pixel data"],["local_cursor","rw","bool",!1,"Request locally rendered cursor"],["shared","rw","bool",!0,"Request shared mode"],["view_only","rw","bool",!1,"Disable client mouse/keyboard"],["connectTimeout","rw","int",fb,"Time (s) to wait for connection"],["disconnectTimeout","rw","int",3,"Time (s) to wait for disconnection"],["repeaterID","rw","str","","RepeaterID to connect to"],["viewportDrag","rw","bool",!1,"Move the viewport on mouse drags"],["check_rate","rw","int",217,"Timing (ms) of send/receive check"],["fbu_req_rate","rw","int",1413,"Timing (ms) of frameBufferUpdate requests"],["onUpdateState","rw","func",function(){},"onUpdateState(rfb, state, oldstate, statusMsg): RFB state update/change "],["onPasswordRequired","rw","func",function(){},"onPasswordRequired(rfb): VNC password is required "],["onClipboard","rw","func",function(){},"onClipboard(rfb, text): RFB clipboard contents received"],["onBell","rw","func",function(){},"onBell(rfb): RFB Bell message received "],["onFBUReceive","rw","func",function(){},"onFBUReceive(rfb, fbu): RFB FBU received but not yet processed "],["onFBUComplete","rw","func",function(){},"onFBUComplete(rfb, fbu): RFB FBU received and processed "],["onFBResize","rw","func",function(){},"onFBResize(rfb, width, height): frame buffer resized"],["updateState","rw","func",function(){},"obsolete, use onUpdateState"],["clipboardReceive","rw","func",function(){},"obsolete, use onClipboard"]]),B.set_local_cursor=function(a){!a||a in{0:1,no:1,"false":1}?C.local_cursor=!1:Q.get_cursor_uri()?C.local_cursor=!0:Util.Warn("Browser does not support local cursor")},B.get_display=function(){return Q},B.get_keyboard=function(){return R},B.get_mouse=function(){return S},g=function(){var a;for(P.init(),X.rects=0,X.subrects=0,X.lines=0,X.tiles=0,X.zlibs=[],gb=0,hb=[],a=0;a<L.length;a+=1)O[L[a][1]][0]=0;for(a=0;4>a;a++)X.zlibs[a]=new TINF,X.zlibs[a].init()},n=function(){var a,b;for(Util.Info("Encoding stats for this connection:"),a=0;a<L.length;a+=1)b=O[L[a][1]],b[0]+b[1]>0&&Util.Info("    "+L[a][0]+": "+b[0]+" rects");for(Util.Info("Encoding stats since page load:"),a=0;a<L.length;a+=1)b=O[L[a][1]],b[0]+b[1]>0&&Util.Info("    "+L[a][0]+": "+b[1]+" rects")},h=function(a,b){var d,e,f=H;if(a===f)return Util.Debug("Already in state '"+a+"', ignoring."),void 0;switch(a in{disconnected:1,loaded:1,connect:1,disconnect:1,failed:1,fatal:1}&&(T&&(clearInterval(T),T=null),W&&(clearInterval(W),W=null),Q&&Q.get_context()&&(R.ungrab(),S.ungrab(),Q.defaultCursor(),("debug"!==Util.get_logging()||"loaded"===a)&&Q.clear()),P.close()),"fatal"===f&&Util.Error("Fatal error, cannot continue"),d="failed"===a||"fatal"===a?Util.Error:Util.Warn,e="undefined"!=typeof b?" Msg: "+b:"",d("New state '"+a+"', was '"+f+"'."+e),H="failed"===f&&"disconnected"===a?"failed":a,U&&"connect"!==H&&(Util.Debug("Clearing connect timer"),clearInterval(U),U=null),V&&"disconnect"!==H&&(Util.Debug("Clearing disconnect timer"),clearInterval(V),V=null),a){case"normal":("disconnected"===f||"failed"===f)&&Util.Error("Invalid transition from 'disconnected' or 'failed' to 'normal'");break;case"connect":U=setTimeout(function(){i("Connect timeout")},1e3*C.connectTimeout),g(),c();break;case"disconnect":eb||(V=setTimeout(function(){i("Disconnect timeout")
},1e3*C.disconnectTimeout)),n();break;case"failed":"disconnected"===f&&Util.Error("Invalid transition from 'disconnected' to 'failed'"),"normal"===f&&Util.Error("Error while connected."),"init"===f&&Util.Error("Error while initializing."),setTimeout(function(){h("disconnected")},50)}"failed"===f&&"disconnected"===a?(C.updateState(B,a,f),C.onUpdateState(B,a,f)):(C.updateState(B,a,f,b),C.onUpdateState(B,a,f,b))},i=function(a){return h("failed",a),!1},j=function(){if(0===P.rQlen())return Util.Warn("handle_message called on empty receive queue"),void 0;switch(H){case"disconnected":case"failed":Util.Error("Got data while disconnected");break;case"normal":l()&&P.rQlen()>0&&(null===W?(Util.Debug("More data to process, creating timer"),W=setTimeout(function(){W=null,j()},10)):Util.Debug("More data to process, existing timer"));break;default:k()}},A=function(){var a;"normal"!==H||ib||e()||(a=(new Date).getTime(),a>bb+C.fbu_req_rate&&(bb=a,P.send(r()))),setTimeout(A,C.check_rate)},x=function(a,b){var c;C.view_only||(c=s(a,b),c=c.concat(r()),P.send(c))},y=function(a,b,c,d){if(c?gb|=d:gb^=d,C.viewportDrag){if(c&&!ib)return ib=!0,jb={x:a,y:b},void 0;ib=!1,P.send(r())}C.view_only||(hb=hb.concat(t(Q.absX(a),Q.absY(b))),e())},z=function(a,b){var c,d;return ib?(c=jb.x-a,d=jb.y-b,jb={x:a,y:b},Q.viewportChange(c,d),void 0):(C.view_only||(hb=hb.concat(t(Q.absX(a),Q.absY(b)))),void 0)},k=function(){var a,b,c,e,f,g,j,l,m,n,q,s,t,u,v,w,x,y,z,D,E,G,L;switch(H){case"ProtocolVersion":if(P.rQlen()<12)return i("Incomplete protocol version");switch(e=P.rQshiftStr(12).substr(4,7),Util.Info("Server ProtocolVersion: "+e),L=0,e){case"000.000":L=1;break;case"003.003":I=3.3;break;case"003.006":I=3.3;break;case"003.889":I=3.3;break;case"003.007":I=3.7;break;case"003.008":I=3.8;break;case"004.000":I=3.8;break;case"004.001":I=3.8;break;default:return i("Invalid server version "+e)}if(L){for(g=C.repeaterID;g.length<250;)g+="\x00";P.send_string(g);break}I>J&&(I=J),eb||(T=setInterval(function(){P.flush()},50)),f="00"+parseInt(I,10)+".00"+10*I%10,P.send_string("RFB "+f+"\n"),h("Security","Sent ProtocolVersion: "+f);break;case"Security":if(I>=3.7){if(m=P.rQshift8(),P.rQwait("security type",m,1))return!1;if(0===m)return a=P.rQshift32(),b=P.rQshiftStr(a),i("Security failure: "+b);for(K=0,l=P.rQshiftBytes(m),Util.Debug("Server security types: "+l),j=0;j<l.length;j+=1)l[j]>K&&l[j]<3&&(K=l[j]);if(0===K)return i("Unsupported security types: "+l);P.send([K])}else{if(P.rQwait("security scheme",4))return!1;K=P.rQshift32()}h("Authentication","Authenticating using scheme: "+K),k();break;case"Authentication":switch(K){case 0:return P.rQwait("auth reason",4)?!1:(a=P.rQshift32(),b=P.rQshiftStr(a),i("Auth failure: "+b));case 1:if(I>=3.8)return h("SecurityResult"),void 0;break;case 2:return 0===F.length?(h("password","Password Required"),C.onPasswordRequired(B),void 0):P.rQwait("auth challenge",16)?!1:(n=P.rQshiftBytes(16),q=d(F,n),P.send(q),h("SecurityResult"),void 0);default:return i("Unsupported auth scheme: "+K),void 0}h("ClientInitialisation","No auth required"),k();break;case"SecurityResult":if(P.rQwait("VNC auth response ",4))return!1;switch(P.rQshift32()){case 0:break;case 1:if(I>=3.8){if(c=P.rQshift32(),P.rQwait("SecurityResult reason",c,8))return!1;b=P.rQshiftStr(c),i(b)}else i("Authentication failed");return;case 2:return i("Too many auth attempts")}h("ClientInitialisation","Authentication OK"),k();break;case"ClientInitialisation":P.send([C.shared?1:0]),h("ServerInitialisation","Authentication OK");break;case"ServerInitialisation":if(P.rQwait("server initialization",24))return!1;$=P.rQshift16(),_=P.rQshift16(),s=P.rQshift8(),t=P.rQshift8(),u=P.rQshift8(),E=P.rQshift8(),v=P.rQshift16(),w=P.rQshift16(),x=P.rQshift16(),y=P.rQshift8(),z=P.rQshift8(),D=P.rQshift8(),P.rQshiftStr(3),Util.Info("Screen: "+$+"x"+_+", bpp: "+s+", depth: "+t+", big_endian: "+u+", true_color: "+E+", red_max: "+v+", green_max: "+w+", blue_max: "+x+", red_shift: "+y+", green_shift: "+z+", blue_shift: "+D),0!==u&&Util.Warn("Server native endian is not little endian"),16!==y&&Util.Warn("Server native red-shift is not 16"),0!==D&&Util.Warn("Server native blue-shift is not 0"),G=P.rQshift32(),ab=P.rQshiftStr(G),C.true_color&&"Intel(r) AMT KVM"===ab&&(Util.Warn("Intel AMT KVM only support 8/16 bit depths. Disabling true color"),C.true_color=!1),Q.set_true_color(C.true_color),C.onFBResize(B,$,_),Q.resize($,_),R.grab(),S.grab(),C.true_color?(Y=4,Z=3):(Y=1,Z=1),q=o(),q=q.concat(p()),q=q.concat(r()),db.fbu_rt_start=(new Date).getTime(),db.pixels=0,P.send(q),setTimeout(A,C.check_rate),C.encrypt?h("normal","Connected (encrypted) to: "+ab):h("normal","Connected (unencrypted) to: "+ab)}},l=function(){var a,b,c,d,e,f,g,h,j,k=!0;switch(a=X.rects>0?0:P.rQshift8()){case 0:k=m();break;case 1:if(Util.Debug("SetColourMapEntries"),P.rQshift8(),e=P.rQshift16(),f=P.rQshift16(),P.rQwait("SetColourMapEntries",6*f,6))return!1;for(d=0;f>d;d+=1)g=P.rQshift16(),g=parseInt(g/256,10),h=parseInt(P.rQshift16()/256,10),j=parseInt(P.rQshift16()/256,10),Q.set_colourMap([j,h,g],e+d);Util.Debug("colourMap: "+Q.get_colourMap()),Util.Info("Registered "+f+" colourMap entries");break;case 2:Util.Debug("Bell"),C.onBell(B);break;case 3:if(Util.Debug("ServerCutText"),P.rQwait("ServerCutText header",7,1))return!1;if(P.rQshiftBytes(3),b=P.rQshift32(),P.rQwait("ServerCutText",b,8))return!1;c=P.rQshiftStr(b),C.clipboardReceive(B,c),C.onClipboard(B,c);break;default:i("Disconnected: illegal server message type "+a),Util.Debug("ws.rQslice(0,30):"+P.rQslice(0,30))}return k},m=function(){var a,b,c,d=!0;if(0===X.rects){if(P.rQwait("FBU header",3))return P.rQunshift8(0),!1;P.rQshift8(),X.rects=P.rQshift16(),X.bytes=0,db.cur_fbu=0,db.fbu_rt_start>0&&(a=(new Date).getTime(),Util.Info("First FBU latency: "+(a-db.fbu_rt_start)))}for(;X.rects>0;){if("normal"!==H)return!1;if(P.rQwait("FBU",X.bytes))return!1;if(0===X.bytes){if(P.rQwait("rect header",12))return!1;if(b=P.rQshiftBytes(12),X.x=(b[0]<<8)+b[1],X.y=(b[2]<<8)+b[3],X.width=(b[4]<<8)+b[5],X.height=(b[6]<<8)+b[7],X.encoding=parseInt((b[8]<<24)+(b[9]<<16)+(b[10]<<8)+b[11],10),C.onFBUReceive(B,{x:X.x,y:X.y,width:X.width,height:X.height,encoding:X.encoding,encodingName:N[X.encoding]}),!N[X.encoding])return i("Disconnected: unsupported encoding "+X.encoding),!1}if(db.last_fbu=(new Date).getTime(),d=M[X.encoding](),a=(new Date).getTime(),db.cur_fbu+=a-db.last_fbu,d&&(O[X.encoding][0]+=1,O[X.encoding][1]+=1,db.pixels+=X.width*X.height),db.pixels>=$*_&&((X.width===$&&X.height===_||db.fbu_rt_start>0)&&(db.full_fbu_total+=db.cur_fbu,db.full_fbu_cnt+=1,Util.Info("Timing of full FBU, cur: "+db.cur_fbu+", total: "+db.full_fbu_total+", cnt: "+db.full_fbu_cnt+", avg: "+db.full_fbu_total/db.full_fbu_cnt)),db.fbu_rt_start>0&&(c=a-db.fbu_rt_start,db.fbu_rt_total+=c,db.fbu_rt_cnt+=1,Util.Info("full FBU round-trip, cur: "+c+", total: "+db.fbu_rt_total+", cnt: "+db.fbu_rt_cnt+", avg: "+db.fbu_rt_total/db.fbu_rt_cnt),db.fbu_rt_start=0)),!d)return d}return C.onFBUComplete(B,{x:X.x,y:X.y,width:X.width,height:X.height,encoding:X.encoding,encodingName:N[X.encoding]}),!0},M.RAW=function(){var a,b;return 0===X.lines&&(X.lines=X.height),X.bytes=X.width*Y,P.rQwait("RAW",X.bytes)?!1:(a=X.y+(X.height-X.lines),b=Math.min(X.lines,Math.floor(P.rQlen()/(X.width*Y))),Q.blitImage(X.x,a,X.width,b,P.get_rQ(),P.get_rQi()),P.rQshiftBytes(X.width*b*Y),X.lines-=b,X.lines>0?X.bytes=X.width*Y:(X.rects-=1,X.bytes=0),!0)},M.COPYRECT=function(){return P.rQwait("COPYRECT",4)?!1:(Q.renderQ_push({type:"copy",old_x:P.rQshift16(),old_y:P.rQshift16(),x:X.x,y:X.y,width:X.width,height:X.height}),X.rects-=1,X.bytes=0,!0)},M.RRE=function(){var a,b,c,d,e,f;if(0===X.subrects){if(P.rQwait("RRE",4+Y))return!1;X.subrects=P.rQshift32(),a=P.rQshiftBytes(Y),Q.fillRect(X.x,X.y,X.width,X.height,a)}for(;X.subrects>0&&P.rQlen()>=Y+8;)a=P.rQshiftBytes(Y),b=P.rQshift16(),c=P.rQshift16(),d=P.rQshift16(),e=P.rQshift16(),Q.fillRect(X.x+b,X.y+c,d,e,a),X.subrects-=1;return X.subrects>0?(f=Math.min(cb,X.subrects),X.bytes=(Y+8)*f):(X.rects-=1,X.bytes=0),!0},M.HEXTILE=function(){var a,b,c,d,e,f,g,h,j,k,l,m,n,o,p,q,r,s=P.get_rQ(),t=P.get_rQi();for(0===X.tiles&&(X.tiles_x=Math.ceil(X.width/16),X.tiles_y=Math.ceil(X.height/16),X.total_tiles=X.tiles_x*X.tiles_y,X.tiles=X.total_tiles);X.tiles>0;){if(X.bytes=1,P.rQwait("HEXTILE subencoding",X.bytes))return!1;if(a=s[t],a>30)return i("Disconnected: illegal hextile subencoding "+a),!1;if(b=0,d=X.total_tiles-X.tiles,e=d%X.tiles_x,h=Math.floor(d/X.tiles_x),f=X.x+16*e,j=X.y+16*h,g=Math.min(16,X.x+X.width-f),k=Math.min(16,X.y+X.height-j),1&a)X.bytes+=g*k*Y;else if(2&a&&(X.bytes+=Y),4&a&&(X.bytes+=Y),8&a){if(X.bytes+=1,P.rQwait("hextile subrects header",X.bytes))return!1;b=s[t+X.bytes-1],X.bytes+=16&a?b*(Y+2):2*b}if(P.rQwait("hextile",X.bytes))return!1;if(X.subencoding=s[t],t+=1,0===X.subencoding)1&X.lastsubencoding?Util.Debug("     Ignoring blank after RAW"):Q.fillRect(f,j,g,k,X.background);else if(1&X.subencoding)Q.blitImage(f,j,g,k,s,t),t+=X.bytes-1;else{if(2&X.subencoding&&(X.background=s.slice(t,t+Y),t+=Y),4&X.subencoding&&(X.foreground=s.slice(t,t+Y),t+=Y),Q.startTile(f,j,g,k,X.background),8&X.subencoding)for(b=s[t],t+=1,m=0;b>m;m+=1)16&X.subencoding?(c=s.slice(t,t+Y),t+=Y):c=X.foreground,l=s[t],t+=1,n=l>>4,o=15&l,p=s[t],t+=1,q=(p>>4)+1,r=(15&p)+1,Q.subTile(n,o,q,r,c);Q.finishTile()}P.set_rQi(t),X.lastsubencoding=X.subencoding,X.bytes=0,X.tiles-=1}return 0===X.tiles&&(X.rects-=1),!0},v=function(a){var b=1,c=0;return c+=127&a[0],128&a[0]&&(b+=1,c+=(127&a[1])<<7,128&a[1]&&(b+=1,c+=a[2]<<14)),[b,c]},w=function(a){return";base64,"+Base64.encode(a)},M.TIGHT=function(){return f(!1)},M.TIGHT_PNG=function(){return f(!0)},M.last_rect=function(){return X.rects=0,!0},M.DesktopSize=function(){return Util.Debug(">> set_desktopsize"),$=X.width,_=X.height,C.onFBResize(B,$,_),Q.resize($,_),db.fbu_rt_start=(new Date).getTime(),P.send(r()),X.bytes=0,X.rects-=1,Util.Debug("<< set_desktopsize"),!0},M.Cursor=function(){var a,b,c,d,e,f;return Util.Debug(">> set_cursor"),a=X.x,b=X.y,c=X.width,d=X.height,e=c*d*Y,f=Math.floor((c+7)/8)*d,X.bytes=e+f,P.rQwait("cursor encoding",X.bytes)?!1:(Q.changeCursor(P.rQshiftBytes(e),P.rQshiftBytes(f),a,b,c,d),X.bytes=0,X.rects-=1,Util.Debug("<< set_cursor"),!0)},M.JPEG_quality_lo=function(){Util.Error("Server sent jpeg_quality pseudo-encoding")},M.compress_lo=function(){Util.Error("Server sent compress level pseudo-encoding")},o=function(){var a;return a=[0],a.push8(0),a.push8(0),a.push8(0),a.push8(8*Y),a.push8(8*Z),a.push8(0),a.push8(C.true_color?1:0),a.push16(255),a.push16(255),a.push16(255),a.push8(16),a.push8(8),a.push8(0),a.push8(0),a.push8(0),a.push8(0),a},p=function(){var a,b,c=[];for(b=0;b<L.length;b+=1)"Cursor"!==L[b][0]||C.local_cursor?"TIGHT"!==L[b][0]||C.true_color?c.push(L[b][1]):Util.Warn("Skipping tight, only support with true color"):Util.Debug("Skipping Cursor pseudo-encoding");for(a=[2],a.push8(0),a.push16(c.length),b=0;b<c.length;b+=1)a.push32(c[b]);return a},q=function(a,b,c,d,e){"undefined"==typeof b&&(b=0),"undefined"==typeof c&&(c=0),"undefined"==typeof d&&(d=$),"undefined"==typeof e&&(e=_);var f;return f=[3],f.push8(a),f.push16(b),f.push16(c),f.push16(d),f.push16(e),f},r=function(){var a,b,c,d=Q.getCleanDirtyReset(),e=[];for(b=d.cleanBox,b.w>0&&b.h>0&&(e=e.concat(q(1,b.x,b.y,b.w,b.h))),a=0;a<d.dirtyBoxes.length;a++)c=d.dirtyBoxes[a],e=e.concat(q(0,c.x,c.y,c.w,c.h));return e},s=function(a,b){var c;return c=[4],c.push8(b),c.push16(0),c.push32(a),c},t=function(a,b){var c;return c=[5],c.push8(gb),c.push16(a),c.push16(b),c},u=function(a){var b,c,d;for(b=[6],b.push8(0),b.push8(0),b.push8(0),b.push32(a.length),d=a.length,c=0;d>c;c+=1)b.push(a.charCodeAt(c));return b},B.connect=function(a,b,c,d){return D=a,E=b,F=void 0!==c?c:"",G=void 0!==d?d:"",D&&E?(h("connect"),void 0):i("Must set host and port")},B.disconnect=function(){h("disconnect","Disconnecting")},B.sendPassword=function(a){F=a,H="Authentication",setTimeout(k,1)},B.sendCtrlAltDel=function(){if("normal"!==H||C.view_only)return!1;Util.Info("Sending Ctrl-Alt-Del");var a=[];a=a.concat(s(65507,1)),a=a.concat(s(65513,1)),a=a.concat(s(65535,1)),a=a.concat(s(65535,0)),a=a.concat(s(65513,0)),a=a.concat(s(65507,0)),a=a.concat(r()),P.send(a)},B.sendKey=function(a,b){if("normal"!==H||C.view_only)return!1;var c=[];"undefined"!=typeof b?(Util.Info("Sending key code ("+(b?"down":"up")+"): "+a),c=c.concat(s(a,b?1:0))):(Util.Info("Sending key code (down + up): "+a),c=c.concat(s(a,1)),c=c.concat(s(a,0))),c=c.concat(r()),P.send(c)},B.clipboardPasteFrom=function(a){"normal"===H&&P.send(u(a))},B.testMode=function(a,b){eb=!0,B.recv_message=P.testMode(a,b),A=function(){},B.connect=function(a,b,c){D=a,E=b,F=c,g(),h("ProtocolVersion","Starting VNC handshake")}},b()}function JSUnzip(){this.getInt=function(a,b){switch(b){case 4:return(255&this.data.charCodeAt(a+3))<<24|(255&this.data.charCodeAt(a+2))<<16|(255&this.data.charCodeAt(a+1))<<8|255&this.data.charCodeAt(a+0);case 2:return(255&this.data.charCodeAt(a+1))<<8|255&this.data.charCodeAt(a+0);default:return 255&this.data.charCodeAt(a)}},this.getDOSDate=function(a,b){var c=31&a,d=(a>>5&15)-1,e=1980+(a>>9&127),f=2*(31&b),g=b>>5&63;return hour=b>>11&31,new Date(e,d,c,hour,g,f)},this.open=function(a){if(this.data=a,this.files=[],this.data.length<22)return{status:!1,error:"Invalid data"};for(var b=this.data.length-22;b>=0&&101010256!=this.getInt(b,4);)--b;if(0>b)return{status:!1,error:"Invalid data"};if(0!=this.getInt(b+4,2)||0!=this.getInt(b+6,2))return{status:!1,error:"No multidisk support"};var c=this.getInt(b+8,2),d=this.getInt(b+16,4),e=this.getInt(b+20,2);this.comment=this.data.slice(b+22,b+22+e);for(var f=d,g=0;c>g;++g){if(33639248!=this.getInt(f+0,4))return{status:!1,error:"Invalid data"};if(this.getInt(f+6,2)>20)return{status:!1,error:"Unsupported version"};if(1&this.getInt(f+8,2))return{status:!1,error:"Encryption not implemented"};var h=this.getInt(f+10,2);if(0!=h&&8!=h)return{status:!1,error:"Unsupported compression method"};var i=this.getInt(f+12,2),j=this.getInt(f+14,2),k=this.getDOSDate(j,i),l=(this.getInt(f+16,4),this.getInt(f+20,4)),m=this.getInt(f+24,4),n=this.getInt(f+28,2),o=this.getInt(f+30,2),p=this.getInt(f+32,2),q=this.getInt(f+42,4),r=this.data.slice(f+46,f+46+n),s=this.data.slice(f+46+n+o,f+46+n+o+p);if(67324752!=this.getInt(q+0,4))return{status:!1,error:"Invalid data"};var t=this.getInt(q+26,2),u=this.getInt(q+28,2),v=q+30+t+u;this.files[r]={fileComment:s,compressionMethod:h,compressedSize:l,uncompressedSize:m,localFileContent:v,lastModifiedDate:k},f+=46+n+o+p}return{status:!0}},this.read=function(a){var b=this.files[a];if(b){if(8==b.compressionMethod){tinf||(tinf=new TINF,tinf.init());var c=tinf.uncompress(this.data,b.localFileContent);return c.status==tinf.OK?{status:!0,data:c.data}:{status:!1,error:c.error}}return{status:!0,data:this.data.slice(b.localFileContent,b.localFileContent+b.uncompressedSize)}}return{status:!1,error:"File '"+a+"' doesn't exist in zip"}}}function TINF(){function a(a,b,c,d,e){for(var f=0;24>b;)c|=(255&a[d++])<<b,b+=8;return f=c&65535>>16-e,c>>=e,b-=e,[b,c,d,f]}this.OK=0,this.DATA_ERROR=-3,this.WINDOW_SIZE=32768,this.TREE=function(){this.table=new Array(16),this.trans=new Array(288)},this.DATA=function(a){this.source="",this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=[],this.history=[],this.ltree=new a.TREE,this.dtree=new a.TREE},this.sltree=new this.TREE,this.sdtree=new this.TREE,this.length_bits=new Array(30),this.length_base=new Array(30),this.dist_bits=new Array(30),this.dist_base=new Array(30),this.clcidx=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],this.build_bits_base=function(a,b,c,d){var e,f;for(e=0;c>e;++e)a[e]=0;for(e=0;30-c>e;++e)a[e+c]=Math.floor(e/c);for(f=d,e=0;30>e;++e)b[e]=f,f+=1<<a[e]},this.build_fixed_trees=function(a,b){var c;for(c=0;7>c;++c)a.table[c]=0;for(a.table[7]=24,a.table[8]=152,a.table[9]=112,c=0;24>c;++c)a.trans[c]=256+c;for(c=0;144>c;++c)a.trans[24+c]=c;for(c=0;8>c;++c)a.trans[168+c]=280+c;for(c=0;112>c;++c)a.trans[176+c]=144+c;for(c=0;5>c;++c)b.table[c]=0;for(b.table[5]=32,c=0;32>c;++c)b.trans[c]=c},this.build_tree=function(a,b,c,d){var e,f,g=new Array(16);for(e=0;16>e;++e)a.table[e]=0;for(e=0;d>e;++e)a.table[b[c+e]]++;for(a.table[0]=0,f=0,e=0;16>e;++e)g[e]=f,f+=a.table[e];for(e=0;d>e;++e)b[c+e]&&(a.trans[g[b[c+e]]++]=e)},this.getbit=function(a){var b;return a.bitcount--||(a.tag=255&a.source[a.sourceIndex++],a.bitcount=7),b=1&a.tag,a.tag>>=1,b},this.read_bits=function(b,c,d){if(!c)return d;var e=a(b.source,b.bitcount,b.tag,b.sourceIndex,c);return b.bitcount=e[0],b.tag=e[1],b.sourceIndex=e[2],e[3]+d},this.decode_symbol=function(a,b){for(;a.bitcount<16;)a.tag=a.tag|(255&a.source[a.sourceIndex++])<<a.bitcount,a.bitcount+=8;var c=0,d=0,e=0;do d=2*d+((a.tag&1<<e)>>e),++e,c+=b.table[e],d-=b.table[e];while(d>=0);return a.tag>>=e,a.bitcount-=e,b.trans[c+d]},this.decode_trees=function(a,b,c){var d,e,f,g,h,i,j=new this.TREE,k=new Array(320);for(d=this.read_bits(a,5,257),e=this.read_bits(a,5,1),f=this.read_bits(a,4,4),g=0;19>g;++g)k[g]=0;for(g=0;f>g;++g){var l=this.read_bits(a,3,0);k[this.clcidx[g]]=l}for(this.build_tree(j,k,0,19),h=0;d+e>h;){var m=this.decode_symbol(a,j);switch(m){case 16:var n=k[h-1];for(i=this.read_bits(a,2,3);i;--i)k[h++]=n;break;case 17:for(i=this.read_bits(a,3,3);i;--i)k[h++]=0;break;case 18:for(i=this.read_bits(a,7,11);i;--i)k[h++]=0;break;default:k[h++]=m}}this.build_tree(b,k,0,d),this.build_tree(c,k,d,e)},this.inflate_block_data=function(a,b,c){for(var d=a.dest,e=d.length;;){var f=this.decode_symbol(a,b);if(256==f)return this.OK;if(256>f)d[e++]=f,a.history.push(f);else{var g,h,i,j;if(f-=257,g=this.read_bits(a,this.length_bits[f],this.length_base[f]),h=this.decode_symbol(a,c),i=a.history.length-this.read_bits(a,this.dist_bits[h],this.dist_base[h]),0>i)throw"Invalid zlib offset "+i;for(j=i;i+g>j;++j)d[e++]=a.history[j],a.history.push(a.history[j])}}},this.inflate_uncompressed_block=function(a){var b,c,d;if(a.bitcount>7){var e=Math.floor(a.bitcount/8);a.sourceIndex-=e,a.bitcount=0,a.tag=0}if(b=a.source[a.sourceIndex+1],b=256*b+a.source[a.sourceIndex],c=a.source[a.sourceIndex+3],c=256*c+a.source[a.sourceIndex+2],b!=(65535&~c))return this.DATA_ERROR;for(a.sourceIndex+=4,d=b;d;--d)a.history.push(a.source[a.sourceIndex]),a.dest[a.dest.length]=a.source[a.sourceIndex++];return a.bitcount=0,this.OK},this.inflate_fixed_block=function(a){return this.inflate_block_data(a,this.sltree,this.sdtree)},this.inflate_dynamic_block=function(a){return this.decode_trees(a,a.ltree,a.dtree),this.inflate_block_data(a,a.ltree,a.dtree)},this.init=function(){this.build_fixed_trees(this.sltree,this.sdtree),this.build_bits_base(this.length_bits,this.length_base,4,3),this.build_bits_base(this.dist_bits,this.dist_base,2,1),this.length_bits[28]=0,this.length_base[28]=258,this.reset()},this.reset=function(){this.d=new this.DATA(this),delete this.header},this.uncompress=function(a,b){var c,d=this.d;d.source=a,d.sourceIndex=b,d.bitcount=0,d.dest=[],"undefined"==typeof this.header&&(this.header=this.read_bits(d,16,0));var e=0;do{var f,g;switch(c=this.getbit(d),f=this.read_bits(d,2,0)){case 0:g=this.inflate_uncompressed_block(d);break;case 1:g=this.inflate_fixed_block(d);break;case 2:g=this.inflate_dynamic_block(d);break;default:return{status:this.DATA_ERROR}}if(g!=this.OK)return{status:this.DATA_ERROR};e++}while(!c&&d.sourceIndex<d.source.length);return d.history=d.history.slice(-this.WINDOW_SIZE),{status:this.OK,data:d.dest}}}var Util={};Array.prototype.push8=function(a){this.push(255&a)},Array.prototype.push16=function(a){this.push(a>>8&255,255&a)},Array.prototype.push32=function(a){this.push(a>>24&255,a>>16&255,a>>8&255,255&a)},Array.prototype.map||(Array.prototype.map=function(a){var b=this.length;if("function"!=typeof a)throw new TypeError;for(var c=new Array(b),d=arguments[1],e=0;b>e;e++)e in this&&(c[e]=a.call(d,this[e],e,this));return c}),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(a){window.setTimeout(a,1e3/60)}}(),Util._log_level="warn",Util.init_logging=function(a){switch("undefined"==typeof a?a=Util._log_level:Util._log_level=a,"undefined"==typeof window.console&&(window.console="undefined"!=typeof window.opera?{log:window.opera.postError,warn:window.opera.postError,error:window.opera.postError}:{log:function(){},warn:function(){},error:function(){}}),Util.Debug=Util.Info=Util.Warn=Util.Error=function(){},a){case"debug":Util.Debug=function(a){console.log(a)};case"info":Util.Info=function(a){console.log(a)};case"warn":Util.Warn=function(a){console.warn(a)};case"error":Util.Error=function(a){console.error(a)};case"none":break;default:throw"invalid logging type '"+a+"'"}},Util.get_logging=function(){return Util._log_level},Util.init_logging(),Util.conf_default=function(a,b,c,d,e,f,g,h){var i,j;i=function(b){return f in{arr:1,array:1}&&"undefined"!=typeof b?a[d][b]:a[d]},j=function(b,c){f in{"boolean":1,bool:1}?b=!b||b in{0:1,no:1,"false":1}?!1:!0:f in{integer:1,"int":1}?b=parseInt(b,10):"str"===f?b=String(b):"func"===f&&(b||(b=function(){})),"undefined"!=typeof c?a[d][c]=b:a[d]=b},b[d+"_description"]=h,"undefined"==typeof b["get_"+d]&&(b["get_"+d]=i),"undefined"==typeof b["set_"+d]&&(b["set_"+d]=function(b,c){if(e in{RO:1,ro:1})throw d+" is read-only";if(e in{WO:1,wo:1}&&"undefined"!=typeof a[d])throw d+" can only be set once";j(b,c)}),"undefined"!=typeof c[d]?g=c[d]:f in{arr:1,array:1}&&!(g instanceof Array)&&(g=[]),j(g)},Util.conf_defaults=function(a,b,c,d){var e;for(e=0;e<d.length;e++)Util.conf_default(a,b,c,d[e][0],d[e][1],d[e][2],d[e][3],d[e][4])},Util.get_include_uri=function(){return"undefined"!=typeof INCLUDE_URI?INCLUDE_URI:"include/"},Util._loading_scripts=[],Util._pending_scripts=[],Util.load_scripts=function(a){for(var b,c=document.getElementsByTagName("head")[0],d=Util._loading_scripts,e=Util._pending_scripts,f=0;f<a.length;f++)b=document.createElement("script"),b.type="text/javascript",b.src=Util.get_include_uri()+a[f],b.onload=b.onreadystatechange=function(){for(;d.length>0&&("loaded"===d[0].readyState||"complete"===d[0].readyState);){var a=d.shift();c.appendChild(a)}(!this.readyState||Util.Engine.presto&&"loaded"===this.readyState||"complete"===this.readyState)&&e.indexOf(this)>=0&&(this.onload=this.onreadystatechange=null,e.splice(e.indexOf(this),1),0===e.length&&window.onscriptsload&&window.onscriptsload())},Util.Engine.trident?d.push(b):(b.async=!1,c.appendChild(b)),e.push(b)},Util.getPosition=function(a){var b=0,c=0;if(a.offsetParent)do b+=a.offsetLeft,c+=a.offsetTop,a=a.offsetParent;while(a);return{x:b,y:c}},Util.getEventPosition=function(a,b,c){var d,e,f,g;return d=a?a:window.event,d=d.changedTouches?d.changedTouches[0]:d.touches?d.touches[0]:d,d.pageX||d.pageY?(e=d.pageX,f=d.pageY):(d.clientX||d.clientY)&&(e=d.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,f=d.clientY+document.body.scrollTop+document.documentElement.scrollTop),g=Util.getPosition(b),"undefined"==typeof c&&(c=1),{x:(e-g.x)/c,y:(f-g.y)/c}},Util.addEvent=function(a,b,c){if(a.attachEvent){var d=a.attachEvent("on"+b,c);return d}if(a.addEventListener)return a.addEventListener(b,c,!1),!0;throw"Handler could not be attached"},Util.removeEvent=function(a,b,c){if(a.detachEvent){var d=a.detachEvent("on"+b,c);return d}if(a.removeEventListener)return a.removeEventListener(b,c,!1),!0;throw"Handler could not be removed"},Util.stopEvent=function(a){a.stopPropagation?a.stopPropagation():a.cancelBubble=!0,a.preventDefault?a.preventDefault():a.returnValue=!1},Util.Features={xpath:!!document.evaluate,air:!!window.runtime,query:!!document.querySelector},Util.Engine={presto:function(){return window.opera?!0:!1}(),trident:function(){return window.ActiveXObject?window.XMLHttpRequest?document.querySelectorAll?6:5:4:!1}(),webkit:function(){try{return navigator.taintEnabled?!1:Util.Features.xpath?Util.Features.query?525:420:419}catch(a){return!1}}(),gecko:function(){return document.getBoxObjectFor||null!=window.mozInnerScreenX?document.getElementsByClassName?19:18:!1}()},Util.Engine.webkit&&(Util.Engine.webkit=function(a){var b=new RegExp("WebKit/([0-9.]*) ");return a=(navigator.userAgent.match(b)||["",a])[1],parseFloat(a,10)}(Util.Engine.webkit)),Util.Flash=function(){var a,b;try{a=navigator.plugins["Shockwave Flash"].description}catch(c){try{a=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(d){a="0 r0"}}return b=a.match(/\d+/g),{version:parseInt(b[0]||"0."+b[1],10)||0,build:parseInt(b[2],10)||0}}();var WebUtil={},$D;window.$D||(window.$D=function(a){return document.getElementById?document.getElementById(a):document.all?document.all[a]:document.layers?document.layers[a]:void 0}),WebUtil.init_logging=function(a){Util._log_level="undefined"!=typeof a?a:(document.location.href.match(/logging=([A-Za-z0-9\._\-]*)/)||["",Util._log_level])[1],Util.init_logging()},WebUtil.dirObj=function(a,b,c){var d,e="",f="";b||(b=2),c||(c="");for(d in a)b>1&&"object"==typeof a[d]?e+=WebUtil.dirObj(a[d],b-1,c+"."+d):(f="undefined"==typeof a[d]?"undefined":a[d].toString().replace("\n"," "),f.length>30&&(f=f.substr(0,30)+"..."),e+=c+"."+d+": "+f+"\n");return e},WebUtil.getQueryVar=function(a,b){var c=new RegExp("[?][^#]*"+a+"=([^&#]*)"),d=document.location.href.match(c);return"undefined"==typeof b&&(b=null),d?decodeURIComponent(d[1]):b},WebUtil.createCookie=function(a,b,c){var d,e;c?(d=new Date,d.setTime(d.getTime()+24*c*60*60*1e3),e="; expires="+d.toGMTString()):e="",document.cookie=a+"="+b+e+"; path=/"},WebUtil.readCookie=function(a,b){var c,d,e=a+"=",f=document.cookie.split(";");for(c=0;c<f.length;c+=1){for(d=f[c];" "===d.charAt(0);)d=d.substring(1,d.length);if(0===d.indexOf(e))return d.substring(e.length,d.length)}return"undefined"!=typeof b?b:null},WebUtil.eraseCookie=function(a){WebUtil.createCookie(a,"",-1)},WebUtil.initSettings=function(a){var b=Array.prototype.slice.call(arguments,1);window.chrome&&window.chrome.storage?window.chrome.storage.sync.get(function(c){WebUtil.settings=c,console.log(WebUtil.settings),a&&a.apply(this,b)}):a&&a.apply(this,b)},WebUtil.writeSetting=function(a,b){window.chrome&&window.chrome.storage?WebUtil.settings[a]!==b&&(WebUtil.settings[a]=b,window.chrome.storage.sync.set(WebUtil.settings)):localStorage.setItem(a,b)},WebUtil.readSetting=function(a,b){var c;return c=window.chrome&&window.chrome.storage?WebUtil.settings[a]:localStorage.getItem(a),"undefined"==typeof c&&(c=null),null===c&&void 0!==typeof b?b:c},WebUtil.eraseSetting=function(a){window.chrome&&window.chrome.storage?(window.chrome.storage.sync.remove(a),delete WebUtil.settings[a]):localStorage.removeItem(a)},WebUtil.getStylesheets=function(){var a,b,c=[];for(b=document.getElementsByTagName("link"),a=0;a<b.length;a+=1)b[a].title&&b[a].rel.toUpperCase().indexOf("STYLESHEET")>-1&&c.push(b[a]);return c},WebUtil.selectStylesheet=function(a){var b,c,d=WebUtil.getStylesheets();for("undefined"==typeof a&&(a="default"),b=0;b<d.length;b+=1)c=d[b],c.title===a?(Util.Debug("Using stylesheet "+a),c.disabled=!1):c.disabled=!0;return a};var Base64={toBase64Table:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".split(""),base64Pad:"=",encode:function(a){var b="",c=Base64.toBase64Table,d=a.length,e=d%3,f=0,g=0;for(f=0;d-2>f;f+=3)b+=c[a[f]>>2],b+=c[((3&a[f])<<4)+(a[f+1]>>4)],b+=c[((15&a[f+1])<<2)+(a[f+2]>>6)],b+=c[63&a[f+2]];return 2===e?(g=d-e,b+=c[a[g]>>2],b+=c[((3&a[g])<<4)+(a[g+1]>>4)],b+=c[(15&a[g+1])<<2],b+=c[64]):1===e&&(g=d-e,b+=c[a[g]>>2],b+=c[(3&a[g])<<4],b+=c[64],b+=c[64]),b},toBinaryTable:[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,0,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1],decode:function(a,b){b="undefined"!=typeof b?b:0;var c,d,e,f,g,h,i=Base64.toBinaryTable,j=Base64.base64Pad,k=0,l=0,m=a.indexOf("=")-b;for(0>m&&(m=a.length-b),d=3*(m>>2)+Math.floor(m%4/1.5),c=new Array(d),e=0,f=b;f<a.length;f++)g=i[127&a.charCodeAt(f)],h=a.charAt(f)===j,-1!==g?(l=l<<6|g,k+=6,k>=8&&(k-=8,h||(c[e++]=l>>k&255),l&=(1<<k)-1)):console.error("Illegal character code "+a.charCodeAt(f)+" at position "+f);if(k)throw{name:"Base64-Error",message:"Corrupted base64 string"};return c}};window.WebSocket&&!window.WEB_SOCKET_FORCE_FLASH?window.Websock_native=!0:window.MozWebSocket&&!window.WEB_SOCKET_FORCE_FLASH?(window.Websock_native=!0,window.WebSocket=window.MozWebSocket):(window.Websock_native=!1,function(){window.WEB_SOCKET_SWF_LOCATION=Util.get_include_uri()+"web-socket-js/WebSocketMain.swf",Util.Engine.trident&&(Util.Debug("Forcing uncached load of WebSocketMain.swf"),window.WEB_SOCKET_SWF_LOCATION+="?"+Math.random()),Util.load_scripts(["web-socket-js/swfobject.js","web-socket-js/web_socket.js"])}()),window.unicodeTable={260:417,728:418,321:419,317:421,346:422,352:425,350:426,356:427,377:428,381:430,379:431,261:433,731:434,322:435,318:437,347:438,711:439,353:441,351:442,357:443,378:444,733:445,382:446,380:447,340:448,258:451,313:453,262:454,268:456,280:458,282:460,270:463,272:464,323:465,327:466,336:469,344:472,366:473,368:475,354:478,341:480,259:483,314:485,263:486,269:488,281:490,283:492,271:495,273:496,324:497,328:498,337:501,369:507,345:504,367:505,355:510,729:511,294:673,292:678,304:681,286:683,308:684,295:689,293:694,305:697,287:699,309:700,266:709,264:710,288:725,284:728,364:733,348:734,267:741,265:742,289:757,285:760,365:765,349:766,312:930,342:931,296:933,315:934,274:938,290:939,358:940,343:947,297:949,316:950,275:954,291:955,359:956,330:957,331:959,256:960,302:967,278:972,298:975,325:977,332:978,310:979,370:985,360:989,362:990,257:992,303:999,279:1004,299:1007,326:1009,333:1010,311:1011,371:1017,361:1021,363:1022,7682:16784898,7683:16784899,7690:16784906,7808:16785024,7810:16785026,7691:16784907,7922:16785138,7710:16784926,7711:16784927,7744:16784960,7745:16784961,7766:16784982,7809:16785025,7767:16784983,7811:16785027,7776:16784992,7923:16785139,7812:16785028,7813:16785029,7777:16784993,372:16777588,7786:16785002,374:16777590,373:16777589,7787:16785003,375:16777591,338:5052,339:5053,376:5054,8254:1150,12290:1185,12300:1186,12301:1187,12289:1188,12539:1189,12530:1190,12449:1191,12451:1192,12453:1193,12455:1194,12457:1195,12515:1196,12517:1197,12519:1198,12483:1199,12540:1200,12450:1201,12452:1202,12454:1203,12456:1204,12458:1205,12459:1206,12461:1207,12463:1208,12465:1209,12467:1210,12469:1211,12471:1212,12473:1213,12475:1214,12477:1215,12479:1216,12481:1217,12484:1218,12486:1219,12488:1220,12490:1221,12491:1222,12492:1223,12493:1224,12494:1225,12495:1226,12498:1227,12501:1228,12504:1229,12507:1230,12510:1231,12511:1232,12512:1233,12513:1234,12514:1235,12516:1236,12518:1237,12520:1238,12521:1239,12522:1240,12523:1241,12524:1242,12525:1243,12527:1244,12531:1245,12443:1246,12444:1247,1776:16778992,1777:16778993,1778:16778994,1779:16778995,1780:16778996,1781:16778997,1782:16778998,1783:16778999,1784:16779e3,1785:16779001,1642:16778858,1648:16778864,1657:16778873,1662:16778878,1670:16778886,1672:16778888,1681:16778897,1548:1452,1748:16778964,1632:16778848,1633:16778849,1634:16778850,1635:16778851,1636:16778852,1637:16778853,1638:16778854,1639:16778855,1640:16778856,1641:16778857,1563:1467,1567:1471,1569:1473,1570:1474,1571:1475,1572:1476,1573:1477,1574:1478,1575:1479,1576:1480,1577:1481,1578:1482,1579:1483,1580:1484,1581:1485,1582:1486,1583:1487,1584:1488,1585:1489,1586:1490,1587:1491,1588:1492,1589:1493,1590:1494,1591:1495,1592:1496,1593:1497,1594:1498,1600:1504,1601:1505,1602:1506,1603:1507,1604:1508,1605:1509,1606:1510,1607:1511,1608:1512,1609:1513,1610:1514,1611:1515,1612:1516,1613:1517,1614:1518,1615:1519,1616:1520,1617:1521,1618:1522,1619:16778835,1620:16778836,1621:16778837,1688:16778904,1700:16778916,1705:16778921,1711:16778927,1722:16778938,1726:16778942,1740:16778956,1746:16778962,1729:16778945,1170:16778386,1171:16778387,1174:16778390,1175:16778391,1178:16778394,1179:16778395,1180:16778396,1181:16778397,1186:16778402,1187:16778403,1198:16778414,1199:16778415,1200:16778416,1201:16778417,1202:16778418,1203:16778419,1206:16778422,1207:16778423,1208:16778424,1209:16778425,1210:16778426,1211:16778427,1240:16778456,1241:16778457,1250:16778466,1251:16778467,1256:16778472,1257:16778473,1262:16778478,1263:16778479,1106:1697,1107:1698,1105:1699,1108:1700,1109:1701,1110:1702,1111:1703,1112:1704,1113:1705,1114:1706,1115:1707,1116:1708,1169:1709,1118:1710,1119:1711,8470:1712,1026:1713,1027:1714,1025:1715,1028:1716,1029:1717,1030:1718,1031:1719,1032:1720,1033:1721,1034:1722,1035:1723,1036:1724,1168:1725,1038:1726,1039:1727,1102:1728,1072:1729,1073:1730,1094:1731,1076:1732,1077:1733,1092:1734,1075:1735,1093:1736,1080:1737,1081:1738,1082:1739,1083:1740,1084:1741,1085:1742,1086:1743,1087:1744,1103:1745,1088:1746,1089:1747,1090:1748,1091:1749,1078:1750,1074:1751,1100:1752,1099:1753,1079:1754,1096:1755,1101:1756,1097:1757,1095:1758,1098:1759,1070:1760,1040:1761,1041:1762,1062:1763,1044:1764,1045:1765,1060:1766,1043:1767,1061:1768,1048:1769,1049:1770,1050:1771,1051:1772,1052:1773,1053:1774,1054:1775,1055:1776,1071:1777,1056:1778,1057:1779,1058:1780,1059:1781,1046:1782,1042:1783,1068:1784,1067:1785,1047:1786,1064:1787,1069:1788,1065:1789,1063:1790,1066:1791,902:1953,904:1954,905:1955,906:1956,938:1957,908:1959,910:1960,939:1961,911:1963,901:1966,8213:1967,940:1969,941:1970,942:1971,943:1972,970:1973,912:1974,972:1975,973:1976,971:1977,944:1978,974:1979,913:1985,914:1986,915:1987,916:1988,917:1989,918:1990,919:1991,920:1992,921:1993,922:1994,923:1995,924:1996,925:1997,926:1998,927:1999,928:2e3,929:2001,931:2002,932:2004,933:2005,934:2006,935:2007,936:2008,937:2009,945:2017,946:2018,947:2019,948:2020,949:2021,950:2022,951:2023,952:2024,953:2025,954:2026,955:2027,956:2028,957:2029,958:2030,959:2031,960:2032,961:2033,963:2034,962:2035,964:2036,965:2037,966:2038,967:2039,968:2040,969:2041,9143:2209,8992:2212,8993:2213,9121:2215,9123:2216,9124:2217,9126:2218,9115:2219,9117:2220,9118:2221,9120:2222,9128:2223,9132:2224,8804:2236,8800:2237,8805:2238,8747:2239,8756:2240,8733:2241,8734:2242,8711:2245,8764:2248,8771:2249,8660:2253,8658:2254,8801:2255,8834:2266,8835:2267,8745:2268,8746:2269,8743:2270,8744:2271,402:2294,8592:2299,8593:2300,8594:2301,8595:2302,9670:2528,9618:2529,9225:2530,9228:2531,9229:2532,9226:2533,9252:2536,9227:2537,9496:2538,9488:2539,9484:2540,9492:2541,9532:2542,9146:2543,9147:2544,9472:2545,9148:2546,9149:2547,9500:2548,9508:2549,9524:2550,9516:2551,9474:2552,8195:2721,8194:2722,8196:2723,8197:2724,8199:2725,8200:2726,8201:2727,8202:2728,8212:2729,8211:2730,8230:2734,8229:2735,8531:2736,8532:2737,8533:2738,8534:2739,8535:2740,8536:2741,8537:2742,8538:2743,8453:2744,8210:2747,8539:2755,8540:2756,8541:2757,8542:2758,8482:2761,8216:2768,8217:2769,8220:2770,8221:2771,8478:2772,8242:2774,8243:2775,10013:2777,9827:2796,9830:2797,9829:2798,10016:2800,8224:2801,8225:2802,10003:2803,10007:2804,9839:2805,9837:2806,9794:2807,9792:2808,9742:2809,8981:2810,8471:2811,8248:2812,8218:2813,8222:2814,8868:3010,8970:3012,8728:3018,9109:3020,8869:3022,9675:3023,8968:3027,8867:3036,8866:3068,8215:3295,1488:3296,1489:3297,1490:3298,1491:3299,1492:3300,1493:3301,1494:3302,1495:3303,1496:3304,1497:3305,1498:3306,1499:3307,1500:3308,1501:3309,1502:3310,1503:3311,1504:3312,1505:3313,1506:3314,1507:3315,1508:3316,1509:3317,1510:3318,1511:3319,1512:3320,1513:3321,1514:3322,3585:3489,3586:3490,3587:3491,3588:3492,3589:3493,3590:3494,3591:3495,3592:3496,3593:3497,3594:3498,3595:3499,3596:3500,3597:3501,3598:3502,3599:3503,3600:3504,3601:3505,3602:3506,3603:3507,3604:3508,3605:3509,3606:3510,3607:3511,3608:3512,3609:3513,3610:3514,3611:3515,3612:3516,3613:3517,3614:3518,3615:3519,3616:3520,3617:3521,3618:3522,3619:3523,3620:3524,3621:3525,3622:3526,3623:3527,3624:3528,3625:3529,3626:3530,3627:3531,3628:3532,3629:3533,3630:3534,3631:3535,3632:3536,3633:3537,3634:3538,3635:3539,3636:3540,3637:3541,3638:3542,3639:3543,3640:3544,3641:3545,3642:3546,3647:3551,3648:3552,3649:3553,3650:3554,3651:3555,3652:3556,3653:3557,3654:3558,3655:3559,3656:3560,3657:3561,3658:3562,3659:3563,3660:3564,3661:3565,3664:3568,3665:3569,3666:3570,3667:3571,3668:3572,3669:3573,3670:3574,3671:3575,3672:3576,3673:3577,1415:16778631,1417:16778633,1373:16778589,1418:16778634,1372:16778588,1371:16778587,1374:16778590,1329:16778545,1377:16778593,1330:16778546,1378:16778594,1331:16778547,1379:16778595,1332:16778548,1380:16778596,1333:16778549,1381:16778597,1334:16778550,1382:16778598,1335:16778551,1383:16778599,1336:16778552,1384:16778600,1337:16778553,1385:16778601,1338:16778554,1386:16778602,1339:16778555,1387:16778603,1340:16778556,1388:16778604,1341:16778557,1389:16778605,1342:16778558,1390:16778606,1343:16778559,1391:16778607,1344:16778560,1392:16778608,1345:16778561,1393:16778609,1346:16778562,1394:16778610,1347:16778563,1395:16778611,1348:16778564,1396:16778612,1349:16778565,1397:16778613,1350:16778566,1398:16778614,1351:16778567,1399:16778615,1352:16778568,1400:16778616,1353:16778569,1401:16778617,1354:16778570,1402:16778618,1355:16778571,1403:16778619,1356:16778572,1404:16778620,1357:16778573,1405:16778621,1358:16778574,1406:16778622,1359:16778575,1407:16778623,1360:16778576,1408:16778624,1361:16778577,1409:16778625,1362:16778578,1410:16778626,1363:16778579,1411:16778627,1364:16778580,1412:16778628,1365:16778581,1413:16778629,1366:16778582,1414:16778630,1370:16778586,4304:16781520,4305:16781521,4306:16781522,4307:16781523,4308:16781524,4309:16781525,4310:16781526,4311:16781527,4312:16781528,4313:16781529,4314:16781530,4315:16781531,4316:16781532,4317:16781533,4318:16781534,4319:16781535,4320:16781536,4321:16781537,4322:16781538,4323:16781539,4324:16781540,4325:16781541,4326:16781542,4327:16781543,4328:16781544,4329:16781545,4330:16781546,4331:16781547,4332:16781548,4333:16781549,4334:16781550,4335:16781551,4336:16781552,4337:16781553,4338:16781554,4339:16781555,4340:16781556,4341:16781557,4342:16781558,7818:16785034,300:16777516,437:16777653,486:16777702,466:16777681,415:16777631,7819:16785035,301:16777517,438:16777654,487:16777703,629:16777845,399:16777615,601:16777817,7734:16784950,7735:16784951,7840:16785056,7841:16785057,7842:16785058,7843:16785059,7844:16785060,7845:16785061,7846:16785062,7847:16785063,7848:16785064,7849:16785065,7850:16785066,7851:16785067,7852:16785068,7853:16785069,7854:16785070,7855:16785071,7856:16785072,7857:16785073,7858:16785074,7859:16785075,7860:16785076,7861:16785077,7862:16785078,7863:16785079,7864:16785080,7865:16785081,7866:16785082,7867:16785083,7868:16785084,7869:16785085,7870:16785086,7871:16785087,7872:16785088,7873:16785089,7874:16785090,7875:16785091,7876:16785092,7877:16785093,7878:16785094,7879:16785095,7880:16785096,7881:16785097,7882:16785098,7883:16785099,7884:16785100,7885:16785101,7886:16785102,7887:16785103,7888:16785104,7889:16785105,7890:16785106,7891:16785107,7892:16785108,7893:16785109,7894:16785110,7895:16785111,7896:16785112,7897:16785113,7898:16785114,7899:16785115,7900:16785116,7901:16785117,7902:16785118,7903:16785119,7904:16785120,7905:16785121,7906:16785122,7907:16785123,7908:16785124,7909:16785125,7910:16785126,7911:16785127,7912:16785128,7913:16785129,7914:16785130,7915:16785131,7916:16785132,7917:16785133,7918:16785134,7919:16785135,7920:16785136,7921:16785137,7924:16785140,7925:16785141,7926:16785142,7927:16785143,7928:16785144,7929:16785145,416:16777632,417:16777633,431:16777647,432:16777648,8352:16785568,8353:16785569,8354:16785570,8355:16785571,8356:16785572,8357:16785573,8358:16785574,8359:16785575,8360:16785576,8361:16785577,8362:16785578,8363:16785579,8364:8364,8304:16785520,8308:16785524,8309:16785525,8310:16785526,8311:16785527,8312:16785528,8313:16785529,8320:16785536,8321:16785537,8322:16785538,8323:16785539,8324:16785540,8325:16785541,8326:16785542,8327:16785543,8328:16785544,8329:16785545,8706:16785922,8709:16785925,8712:16785928,8713:16785929,8715:16785931,8730:16785946,8731:16785947,8732:16785948,8748:16785964,8749:16785965,8757:16785973,8773:16785992,8775:16785991,8802:16786018,8803:16786019,10240:16787456,10241:16787457,10242:16787458,10243:16787459,10244:16787460,10245:16787461,10246:16787462,10247:16787463,10248:16787464,10249:16787465,10250:16787466,10251:16787467,10252:16787468,10253:16787469,10254:16787470,10255:16787471,10256:16787472,10257:16787473,10258:16787474,10259:16787475,10260:16787476,10261:16787477,10262:16787478,10263:16787479,10264:16787480,10265:16787481,10266:16787482,10267:16787483,10268:16787484,10269:16787485,10270:16787486,10271:16787487,10272:16787488,10273:16787489,10274:16787490,10275:16787491,10276:16787492,10277:16787493,10278:16787494,10279:16787495,10280:16787496,10281:16787497,10282:16787498,10283:16787499,10284:16787500,10285:16787501,10286:16787502,10287:16787503,10288:16787504,10289:16787505,10290:16787506,10291:16787507,10292:16787508,10293:16787509,10294:16787510,10295:16787511,10296:16787512,10297:16787513,10298:16787514,10299:16787515,10300:16787516,10301:16787517,10302:16787518,10303:16787519,10304:16787520,10305:16787521,10306:16787522,10307:16787523,10308:16787524,10309:16787525,10310:16787526,10311:16787527,10312:16787528,10313:16787529,10314:16787530,10315:16787531,10316:16787532,10317:16787533,10318:16787534,10319:16787535,10320:16787536,10321:16787537,10322:16787538,10323:16787539,10324:16787540,10325:16787541,10326:16787542,10327:16787543,10328:16787544,10329:16787545,10330:16787546,10331:16787547,10332:16787548,10333:16787549,10334:16787550,10335:16787551,10336:16787552,10337:16787553,10338:16787554,10339:16787555,10340:16787556,10341:16787557,10342:16787558,10343:16787559,10344:16787560,10345:16787561,10346:16787562,10347:16787563,10348:16787564,10349:16787565,10350:16787566,10351:16787567,10352:16787568,10353:16787569,10354:16787570,10355:16787571,10356:16787572,10357:16787573,10358:16787574,10359:16787575,10360:16787576,10361:16787577,10362:16787578,10363:16787579,10364:16787580,10365:16787581,10366:16787582,10367:16787583,10368:16787584,10369:16787585,10370:16787586,10371:16787587,10372:16787588,10373:16787589,10374:16787590,10375:16787591,10376:16787592,10377:16787593,10378:16787594,10379:16787595,10380:16787596,10381:16787597,10382:16787598,10383:16787599,10384:16787600,10385:16787601,10386:16787602,10387:16787603,10388:16787604,10389:16787605,10390:16787606,10391:16787607,10392:16787608,10393:16787609,10394:16787610,10395:16787611,10396:16787612,10397:16787613,10398:16787614,10399:16787615,10400:16787616,10401:16787617,10402:16787618,10403:16787619,10404:16787620,10405:16787621,10406:16787622,10407:16787623,10408:16787624,10409:16787625,10410:16787626,10411:16787627,10412:16787628,10413:16787629,10414:16787630,10415:16787631,10416:16787632,10417:16787633,10418:16787634,10419:16787635,10420:16787636,10421:16787637,10422:16787638,10423:16787639,10424:16787640,10425:16787641,10426:16787642,10427:16787643,10428:16787644,10429:16787645,10430:16787646,10431:16787647,10432:16787648,10433:16787649,10434:16787650,10435:16787651,10436:16787652,10437:16787653,10438:16787654,10439:16787655,10440:16787656,10441:16787657,10442:16787658,10443:16787659,10444:16787660,10445:16787661,10446:16787662,10447:16787663,10448:16787664,10449:16787665,10450:16787666,10451:16787667,10452:16787668,10453:16787669,10454:16787670,10455:16787671,10456:16787672,10457:16787673,10458:16787674,10459:16787675,10460:16787676,10461:16787677,10462:16787678,10463:16787679,10464:16787680,10465:16787681,10466:16787682,10467:16787683,10468:16787684,10469:16787685,10470:16787686,10471:16787687,10472:16787688,10473:16787689,10474:16787690,10475:16787691,10476:16787692,10477:16787693,10478:16787694,10479:16787695,10480:16787696,10481:16787697,10482:16787698,10483:16787699,10484:16787700,10485:16787701,10486:16787702,10487:16787703,10488:16787704,10489:16787705,10490:16787706,10491:16787707,10492:16787708,10493:16787709,10494:16787710,10495:16787711};
var tinf;